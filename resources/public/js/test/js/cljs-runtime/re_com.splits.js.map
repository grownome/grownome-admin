{"version":3,"file":"re_com.splits.js","sources":["re_com/splits.cljs"],"mappings":"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","names":["re-com.splits/drag-handle","orientation","over?","vertical?","cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2","length","width","pos1","pos2","color","border","flex-flow","cljs.core.merge.cljs$core$IFn$_invoke$arity$variadic","re-com.box/flex-flow-style","re-com.splits/hv-split-args-desc","re-com.validate/string-or-hiccup?","cljs.core/string?","cljs.core/fn?","re-com.validate/number-or-string?","re-com.validate/css-style?","re-com.validate/html-attr?","var_args","args__4534__auto__","len__4531__auto__","i__4532__auto__","argseq__4535__auto__","cljs.core/IndexedSeq","re-com.splits/h-split","p__8704","map__8705","cljs.core/PROTOCOL_SENTINEL","cljs.core.apply.cljs$core$IFn$_invoke$arity$2","cljs.core/hash-map","cljs.core.get.cljs$core$IFn$_invoke$arity$3","cljs.core.get.cljs$core$IFn$_invoke$arity$2","js/Error","seq8701","self__4519__auto__","cljs.core/seq","size","height","on-split-change","initial-split","splitter-size","margin","args","js/goog.DEBUG","re_com.validate.validate_args.cljs$core$IFn$_invoke$arity$variadic","re-com.validate/extract-arg-data","p1__8697#","container-id","cljs.core.gensym.cljs$core$IFn$_invoke$arity$1","split-perc","reagent.core.atom.cljs$core$IFn$_invoke$arity$1","js/parseInt","dragging?","stop-drag","G__8709","cljs.core/deref","cljs.core/reset!","calc-perc","mouse-x","container","re-com.util/get-element-by-id","offsets","re-com.util/sum-scroll-offsets","c-width","c-left-x","relative-x","<html>?","js/document","mouseout","event","mousemove","mousedown","mouseover-split","mouseout-split","make-container-attrs","class","style","attr","in-drag?","re-com.box/flex-child-style","make-panel-attrs","percentage","make-splitter-attrs","p__8726","map__8728","panel-1","panel-2","_size","_width","_height","_on-split-change","_initial-split","_splitter-size","_margin","re-com.splits/v-split","p__8864","map__8865","seq8860","p1__8858#","G__8875","mouse-y","c-height","c-top-y","relative-y","p__8887","map__8888"],"sourcesContent":["(ns re-com.splits\r\n  (:require-macros [re-com.core :refer [handler-fn]])\r\n  (:require [re-com.util        :refer [get-element-by-id sum-scroll-offsets]]\r\n            [re-com.box         :refer [flex-child-style flex-flow-style]]\r\n            [re-com.validate    :refer [string-or-hiccup? number-or-string? html-attr? css-style?] :refer-macros [validate-args-macro]]\r\n            [reagent.core       :as    reagent]))\r\n\r\n\r\n(defn drag-handle\r\n  \"Return a drag handle to go into a vertical or horizontal splitter bar:\r\n    orientation: Can be :horizonal or :vertical\r\n    over?:       When true, the mouse is assumed to be over the splitter so show a bolder color\"\r\n  [orientation over?]\r\n  (let [vertical? (= orientation :vertical)\r\n        length    \"20px\"\r\n        width     \"8px\"\r\n        pos1      \"3px\"\r\n        pos2      \"3px\"\r\n        color     (if over? \"#999\" \"#ccc\")\r\n        border    (str \"solid 1px \" color)\r\n        flex-flow (str (if vertical? \"row\" \"column\") \" nowrap\")]\r\n    [:div {:class \"display-flex\"\r\n           :style (merge (flex-flow-style flex-flow)\r\n                         {:width  (if vertical? width length)\r\n                          :height (if vertical? length width)\r\n                          :margin \"auto\"})}\r\n     [:div {:style (if vertical?\r\n                     {:width pos1   :height length :border-right  border}\r\n                     {:width length :height pos1   :border-bottom border})}]\r\n     [:div {:style (if vertical?\r\n                     {:width pos2   :height length :border-right  border}\r\n                     {:width length :height pos2   :border-bottom border})}]]))\r\n\r\n\r\n;; ------------------------------------------------------------------------------------\r\n;;  Component: h-split\r\n;; ------------------------------------------------------------------------------------\r\n\r\n(def hv-split-args-desc\r\n  [{:name :panel-1         :required true                  :type \"hiccup\"          :validate-fn string-or-hiccup? :description \"markup to go in the left (or top) panel\"}\r\n   {:name :panel-2         :required true                  :type \"hiccup\"          :validate-fn string-or-hiccup? :description \"markup to go in the right (or bottom) panel\"}\r\n   {:name :size            :required false :default \"auto\" :type \"string\"          :validate-fn string?           :description [:span \"applied to the outer container of the two panels. Equivalent to CSS style \" [:span.bold \"flex\"] \".\" [:br]  \"Examples: \" [:code \"initial\"] \", \" [:code \"auto\"] \", \" [:code \"none\"]\", \" [:code \"100px\"] \", \" [:code \"2\"] \" or a generic triple of \" [:code \"grow shrink basis\"]]}\r\n   {:name :width           :required false                 :type \"string\"          :validate-fn string?           :description \"width of the outer container of the two panels. A CSS width style\"}\r\n   {:name :height          :required false                 :type \"string\"          :validate-fn string?           :description \"height of the outer container of the two panels. A CSS height style\"}\r\n   {:name :on-split-change :required false                 :type \"double -> nil\"   :validate-fn fn?               :description [:span \"called when the user moves the splitter bar (on mouse up, not on each mouse move). Given the new \" [:code \":panel-1\"] \" percentage split\"]}\r\n   {:name :initial-split   :required false :default 50     :type \"double | string\" :validate-fn number-or-string? :description [:span \"initial split percentage for \" [:code \":panel-1\"] \". Can be double value or string (with/without percentage sign)\"]}\r\n   {:name :splitter-size   :required false :default \"8px\"  :type \"string\"          :validate-fn string?           :description \"thickness of the splitter\"}\r\n   {:name :margin          :required false :default \"8px\"  :type \"string\"          :validate-fn string?           :description \"thickness of the margin around the panels\"}\r\n   {:name :class           :required false                 :type \"string\"          :validate-fn string?           :description \"CSS class names, space separated, applied to outer container\"}\r\n   {:name :style           :required false                 :type \"CSS style map\"   :validate-fn css-style?        :description \"CSS styles to add or override, applied to outer container\"}\r\n   {:name :attr            :required false                 :type \"HTML attr map\"   :validate-fn html-attr?        :description [:span \"HTML attributes, like \" [:code \":on-mouse-move\"] [:br] \"No \" [:code \":class\"] \" or \" [:code \":style\"] \"allowed, applied to outer container\"]}])\r\n\r\n(defn h-split\r\n  \"Returns markup for a horizontal layout component\"\r\n  [& {:keys [size width height on-split-change initial-split splitter-size margin]\r\n      :or   {size \"auto\" initial-split 50 splitter-size \"8px\" margin \"8px\"}\r\n      :as   args}]\r\n  {:pre [(validate-args-macro hv-split-args-desc args \"h-split\")]}\r\n  (let [container-id         (gensym \"h-split-\")\r\n        split-perc           (reagent/atom (js/parseInt initial-split)) ;; splitter position as a percentage of width\r\n        dragging?            (reagent/atom false)                       ;; is the user dragging the splitter (mouse is down)?\r\n        over?                (reagent/atom false)                       ;; is the mouse over the splitter, if so, highlight it\r\n\r\n        stop-drag            (fn []\r\n                               (when on-split-change (on-split-change @split-perc))\r\n                               (reset! dragging? false))\r\n\r\n        calc-perc            (fn [mouse-x]                                                 ;; turn a mouse y coordinate into a percentage position\r\n                               (let [container  (get-element-by-id container-id)           ;; the outside container\r\n                                     offsets    (sum-scroll-offsets container)             ;; take any scrolling into account\r\n                                     c-width    (.-clientWidth container)                  ;; the container's width\r\n                                     c-left-x   (.-offsetLeft container)                   ;; the container's left X\r\n                                     relative-x (+ (- mouse-x c-left-x) (:left offsets))]  ;; the X of the mouse, relative to container\r\n                                 (* 100.0 (/ relative-x c-width))))                        ;; do the percentage calculation\r\n\r\n        <html>?              #(= % (.-documentElement js/document))                        ;; test for the <html> element\r\n\r\n        mouseout             (fn [event]\r\n                               (if (<html>? (.-relatedTarget event))                       ;; stop drag if we leave the <html> element\r\n                                 (stop-drag)))\r\n\r\n        mousemove            (fn [event]\r\n                               (reset! split-perc (calc-perc (.-clientX event))))\r\n\r\n        mousedown            (fn [event]\r\n                               (.preventDefault event)                                    ;; stop selection of text during drag\r\n                               (reset! dragging? true))\r\n\r\n        mouseover-split      #(reset! over? true) ;; true CANCELs mouse-over (false cancels all others)\r\n        mouseout-split       #(reset! over? false)\r\n\r\n        make-container-attrs (fn [class style attr in-drag?]\r\n                               (merge {:class (str \"rc-h-split display-flex \" class)\r\n                                       :id    container-id\r\n                                       :style (merge (flex-child-style size)\r\n                                                     (flex-flow-style \"row nowrap\")\r\n                                                     {:margin margin\r\n                                                      :width  width\r\n                                                      :height height}\r\n                                                     style)}\r\n                                      (when in-drag?                             ;; only listen when we are dragging\r\n                                        {:on-mouse-up   (handler-fn (stop-drag))\r\n                                         :on-mouse-move (handler-fn (mousemove event))\r\n                                         :on-mouse-out  (handler-fn (mouseout event))})\r\n                                      attr))\r\n\r\n        make-panel-attrs     (fn [class in-drag? percentage]\r\n                               {:class (str \"display-flex \" class)\r\n                                :style (merge (flex-child-style (str percentage \" 1 0px\"))\r\n                                              {:overflow \"hidden\"} ;; TODO: Shouldn't have this...test removing it\r\n                                              (when in-drag? {:pointer-events \"none\"}))})\r\n\r\n        make-splitter-attrs  (fn [class]\r\n                               {:class         (str \"display-flex \" class)\r\n                                :on-mouse-down (handler-fn (mousedown event))\r\n                                :on-mouse-over (handler-fn (mouseover-split))\r\n                                :on-mouse-out  (handler-fn (mouseout-split))\r\n                                :style         (merge (flex-child-style (str \"0 0 \" splitter-size))\r\n                                                      {:cursor \"col-resize\"}\r\n                                                      (when @over? {:background-color \"#f8f8f8\"}))})]\r\n\r\n    (fn\r\n      [& {:keys [panel-1 panel-2 _size _width _height _on-split-change _initial-split _splitter-size _margin class style attr]}]\r\n      [:div (make-container-attrs class style attr @dragging?)\r\n       [:div (make-panel-attrs \"rc-h-split-top\" @dragging? @split-perc)\r\n        panel-1]\r\n       [:div (make-splitter-attrs \"rc-h-split-splitter\")\r\n        [drag-handle :vertical @over?]]\r\n       [:div (make-panel-attrs \"rc-h-split-bottom\" @dragging? (- 100 @split-perc))\r\n        panel-2]])))\r\n\r\n\r\n;; ------------------------------------------------------------------------------------\r\n;;  Component: v-split\r\n;; ------------------------------------------------------------------------------------\r\n\r\n(defn v-split\r\n  \"Returns markup for a vertical layout component\"\r\n  [& {:keys [size width height on-split-change initial-split splitter-size margin]\r\n      :or   {size \"auto\" initial-split 50 splitter-size \"8px\" margin \"8px\"}\r\n      :as   args}]\r\n  {:pre [(validate-args-macro hv-split-args-desc args \"v-split\")]}\r\n  (let [container-id         (gensym \"v-split-\")\r\n        split-perc           (reagent/atom (js/parseInt initial-split))  ;; splitter position as a percentage of height\r\n        dragging?            (reagent/atom false)                        ;; is the user dragging the splitter (mouse is down)?\r\n        over?                (reagent/atom false)                        ;; is the mouse over the splitter, if so, highlight it\r\n\r\n        stop-drag            (fn []\r\n                               (when on-split-change (on-split-change @split-perc))\r\n                               (reset! dragging? false))\r\n\r\n        calc-perc            (fn [mouse-y]                                                 ;; turn a mouse y coordinate into a percentage position\r\n                               (let [container  (get-element-by-id container-id)           ;; the outside container\r\n                                     offsets    (sum-scroll-offsets container)             ;; take any scrolling into account\r\n                                     c-height   (.-clientHeight container)                 ;; the container's height\r\n                                     c-top-y    (.-offsetTop container)                    ;; the container's top Y\r\n                                     relative-y (+ (- mouse-y c-top-y) (:top offsets))]    ;; the Y of the mouse, relative to container\r\n                                 (* 100.0 (/ relative-y c-height))))                       ;; do the percentage calculation\r\n\r\n        <html>?              #(= % (.-documentElement js/document))                        ;; test for the <html> element\r\n\r\n        mouseout             (fn [event]\r\n                               (if (<html>? (.-relatedTarget event))                       ;; stop drag if we leave the <html> element\r\n                                 (stop-drag)))\r\n\r\n        mousemove            (fn [event]\r\n                               (reset! split-perc (calc-perc (.-clientY event))))\r\n\r\n        mousedown            (fn [event]\r\n                               (.preventDefault event)                                    ;; stop selection of text during drag\r\n                               (reset! dragging? true))\r\n\r\n        mouseover-split      #(reset! over? true)\r\n        mouseout-split       #(reset! over? false)\r\n\r\n        make-container-attrs (fn [class style attr in-drag?]\r\n                               (merge {:class (str \"rc-v-split display-flex \" class)\r\n                                       :id    container-id\r\n                                       :style (merge (flex-child-style size)\r\n                                                     (flex-flow-style \"column nowrap\")\r\n                                                     {:margin margin\r\n                                                      :width  width\r\n                                                      :height height}\r\n                                                     style)}\r\n                                      (when in-drag?                             ;; only listen when we are dragging\r\n                                        {:on-mouse-up   (handler-fn (stop-drag))\r\n                                         :on-mouse-move (handler-fn (mousemove event))\r\n                                         :on-mouse-out  (handler-fn (mouseout event))})\r\n                                      attr))\r\n\r\n        make-panel-attrs     (fn [class in-drag? percentage]\r\n                               {:class (str \"display-flex \" class)\r\n                                :style (merge (flex-child-style (str percentage \" 1 0px\"))\r\n                                              {:overflow \"hidden\"} ;; TODO: Shouldn't have this...test removing it\r\n                                              (when in-drag? {:pointer-events \"none\"}))})\r\n\r\n        make-splitter-attrs  (fn [class]\r\n                               {:class         (str \"display-flex \" class)\r\n                                :on-mouse-down (handler-fn (mousedown event))\r\n                                :on-mouse-over (handler-fn (mouseover-split))\r\n                                :on-mouse-out  (handler-fn (mouseout-split))\r\n                                :style         (merge (flex-child-style (str \"0 0 \" splitter-size))\r\n                                                      {:cursor  \"row-resize\"}\r\n                                                      (when @over? {:background-color \"#f8f8f8\"}))})]\r\n\r\n    (fn\r\n      [& {:keys [panel-1 panel-2 _size _width _height _on-split-change _initial-split _splitter-size _margin class style attr]}]\r\n      [:div (make-container-attrs class style attr @dragging?)\r\n       [:div (make-panel-attrs \"re-v-split-top\" @dragging? @split-perc)\r\n        panel-1]\r\n       [:div (make-splitter-attrs \"re-v-split-splitter\")\r\n        [drag-handle :horizontal @over?]]\r\n       [:div (make-panel-attrs \"re-v-split-bottom\" @dragging? (- 100 @split-perc))\r\n        panel-2]])))\r\n"]}