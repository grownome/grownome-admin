["^ ","~:resource-id",["~:shadow.build.npm/resource","node_modules/@firebase/util/dist/index.cjs.js"],"~:js","shadow$provide.module$node_modules$$firebase$util$dist$index_cjs=function(global,process,require,module,exports,shadow$shims){function deepExtend(target,source){if(!(source instanceof Object))return source;switch(source.constructor){case Date:return new Date(source.getTime());case Object:void 0===target&&(target={});break;case Array:target=[];break;default:return source}for(var prop in source)source.hasOwnProperty(prop)&&(target[prop]=deepExtend(target[prop],source[prop]));return target}function jsonEval(str){return JSON.parse(str)}\nfunction implementsAnyMethods(obj,methods){if(\"object\"!==typeof obj||null===obj)return!1;for(var _i=0;_i<methods.length;_i++){var method=methods[_i];if(method in obj&&\"function\"===typeof obj[method])return!0}return!1}function noop(){}function errorPrefix(fnName,argumentNumber,optional){switch(argumentNumber){case 1:argumentNumber=optional?\"first\":\"First\";break;case 2:argumentNumber=optional?\"second\":\"Second\";break;case 3:argumentNumber=optional?\"third\":\"Third\";break;case 4:argumentNumber=optional?\n\"fourth\":\"Fourth\";break;default:throw Error(\"errorPrefix called with argumentNumber \\x3e 4.  Need to update it?\");}return fnName+\" failed: \"+(argumentNumber+\" argument \")}Object.defineProperty(exports,\"__esModule\",{value:!0});var tslib_1=require(\"module$node_modules$tslib$tslib\"),CONSTANTS={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:\"${JSCORE_VERSION}\"},assert=function(assertion,message){if(!assertion)throw assertionError(message);},assertionError=function(message){return Error(\"Firebase Database (\"+\nCONSTANTS.SDK_VERSION+\") INTERNAL ASSERT FAILED: \"+message)},stringToByteArray=function(str){for(var out=[],p=0,i=0;i<str.length;i++){var c=str.charCodeAt(i);128>c?out[p++]=c:(2048>c?out[p++]=c>>6|192:(55296==(c&64512)&&i+1<str.length&&56320==(str.charCodeAt(i+1)&64512)?(c=65536+((c&1023)<<10)+(str.charCodeAt(++i)&1023),out[p++]=c>>18|240,out[p++]=c>>12&63|128):out[p++]=c>>12|224,out[p++]=c>>6&63|128),out[p++]=c&63|128)}return out},base64={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,\ncharToByteMapWebSafe_:null,ENCODED_VALS_BASE:\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+\"+/\\x3d\"},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+\"-_.\"},HAS_NATIVE_SUPPORT:\"function\"===typeof atob,encodeByteArray:function(input,opt_webSafe){if(!Array.isArray(input))throw Error(\"encodeByteArray takes an array as a parameter\");this.init_();opt_webSafe=opt_webSafe?this.byteToCharMapWebSafe_:this.byteToCharMap_;for(var output=\n[],i=0;i<input.length;i+=3){var byte1=input[i],haveByte2=i+1<input.length,byte2=haveByte2?input[i+1]:0,haveByte3=i+2<input.length,byte3=haveByte3?input[i+2]:0,outByte1=byte1>>2;byte1=(byte1&3)<<4|byte2>>4;byte2=(byte2&15)<<2|byte3>>6;byte3&=63;haveByte3||(byte3=64,haveByte2||(byte2=64));output.push(opt_webSafe[outByte1],opt_webSafe[byte1],opt_webSafe[byte2],opt_webSafe[byte3])}return output.join(\"\")},encodeString:function(input,opt_webSafe){return this.HAS_NATIVE_SUPPORT&&!opt_webSafe?btoa(input):\nthis.encodeByteArray(stringToByteArray(input),opt_webSafe)},decodeString:function(input,opt_webSafe){if(this.HAS_NATIVE_SUPPORT&&!opt_webSafe)return atob(input);input=this.decodeStringToByteArray(input,opt_webSafe);opt_webSafe=[];for(var pos=0,c=0;pos<input.length;){var c1=input[pos++];if(128>c1)opt_webSafe[c++]=String.fromCharCode(c1);else if(191<c1&&224>c1){var c2=input[pos++];opt_webSafe[c++]=String.fromCharCode((c1&31)<<6|c2&63)}else if(239<c1&&365>c1){c2=input[pos++];var c3=input[pos++],c4=input[pos++];\nc1=((c1&7)<<18|(c2&63)<<12|(c3&63)<<6|c4&63)-65536;opt_webSafe[c++]=String.fromCharCode(55296+(c1>>10));opt_webSafe[c++]=String.fromCharCode(56320+(c1&1023))}else c2=input[pos++],c3=input[pos++],opt_webSafe[c++]=String.fromCharCode((c1&15)<<12|(c2&63)<<6|c3&63)}return opt_webSafe.join(\"\")},decodeStringToByteArray:function(input,opt_webSafe){this.init_();opt_webSafe=opt_webSafe?this.charToByteMapWebSafe_:this.charToByteMap_;for(var output=[],i=0;i<input.length;){var byte1=opt_webSafe[input.charAt(i++)],\nbyte2=i<input.length?opt_webSafe[input.charAt(i)]:0;++i;var byte3=i<input.length?opt_webSafe[input.charAt(i)]:64;++i;var byte4=i<input.length?opt_webSafe[input.charAt(i)]:64;++i;if(null==byte1||null==byte2||null==byte3||null==byte4)throw Error();output.push(byte1<<2|byte2>>4);64!=byte3&&(output.push(byte2<<4&240|byte3>>2),64!=byte4&&output.push(byte3<<6&192|byte4))}return output},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={};this.charToByteMap_={};this.byteToCharMapWebSafe_={};\nthis.charToByteMapWebSafe_={};for(var i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}},base64Decode=function(str){try{return base64.decodeString(str,\n!0)}catch(e){console.error(\"base64Decode failed: \",e)}return null};global=function(){function Deferred(){var _this=this;this.promise=new Promise(function(resolve,reject){_this.resolve=resolve;_this.reject=reject})}Deferred.prototype.wrapCallback=function(callback){var _this=this;return function(error,value){error?_this.reject(error):_this.resolve(value);\"function\"===typeof callback&&(_this.promise.catch(function(){}),1===callback.length?callback(error):callback(error,value))}};return Deferred}();\nvar getUA=function(){return\"undefined\"!==typeof navigator&&\"string\"===typeof navigator.userAgent?navigator.userAgent:\"\"},captureStackTrace=Error.captureStackTrace,FirebaseError=function(){return function(code,message){this.code=code;this.message=message;if(captureStackTrace)captureStackTrace(this,ErrorFactory.prototype.create);else try{throw Error.apply(this,arguments);}catch(err){this.name=\"FirebaseError\",Object.defineProperty(this,\"stack\",{get:function(){return err.stack}})}}}();FirebaseError.prototype=\nObject.create(Error.prototype);FirebaseError.prototype.constructor=FirebaseError;FirebaseError.prototype.name=\"FirebaseError\";var ErrorFactory=function(){function ErrorFactory(service,serviceName,errors){this.service=service;this.serviceName=serviceName;this.errors=errors;this.pattern=/\\{\\$([^}]+)}/g}ErrorFactory.prototype.create=function(code,data){void 0===data&&(data={});var template=this.errors[code];code=this.service+\"/\"+code;template=void 0===template?\"Error\":template.replace(this.pattern,function(match,\nkey){match=data[key];return void 0!==match?match.toString():\"\\x3c\"+key+\"?\\x3e\"});template=this.serviceName+\": \"+template+\" (\"+code+\").\";template=new FirebaseError(code,template);for(var prop in data)data.hasOwnProperty(prop)&&\"_\"!==prop.slice(-1)&&(template[prop]=data[prop]);return template};return ErrorFactory}(),decode=function(token){var header={},claims={},data={},signature=\"\";try{var parts=token.split(\".\");header=jsonEval(base64Decode(parts[0])||\"\");claims=jsonEval(base64Decode(parts[1])||\"\");\nsignature=parts[2];data=claims.d||{};delete claims.d}catch(e){}return{header:header,claims:claims,data:data,signature:signature}},forEach=function(obj,fn){for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&fn(key,obj[key])},extend=function(objTo,objFrom){forEach(objFrom,function(key,value){objTo[key]=value});return objTo},findKey=function(obj,fn,opt_this){for(var key in obj)if(fn.call(opt_this,obj[key],key,obj))return key};process=function(_super){function Sha1(){var _this=_super.call(this)||\nthis;_this.chain_=[];_this.buf_=[];_this.W_=[];_this.pad_=[];_this.inbuf_=0;_this.total_=0;_this.blockSize=64;_this.pad_[0]=128;for(var i=1;i<_this.blockSize;++i)_this.pad_[i]=0;_this.reset();return _this}tslib_1.__extends(Sha1,_super);Sha1.prototype.reset=function(){this.chain_[0]=1732584193;this.chain_[1]=4023233417;this.chain_[2]=2562383102;this.chain_[3]=271733878;this.chain_[4]=3285377520;this.total_=this.inbuf_=0};Sha1.prototype.compress_=function(buf,opt_offset){opt_offset||(opt_offset=0);\nvar W=this.W_;if(\"string\"===typeof buf)for(var i=0;16>i;i++)W[i]=buf.charCodeAt(opt_offset)<<24|buf.charCodeAt(opt_offset+1)<<16|buf.charCodeAt(opt_offset+2)<<8|buf.charCodeAt(opt_offset+3),opt_offset+=4;else for(i=0;16>i;i++)W[i]=buf[opt_offset]<<24|buf[opt_offset+1]<<16|buf[opt_offset+2]<<8|buf[opt_offset+3],opt_offset+=4;for(i=16;80>i;i++){var t=W[i-3]^W[i-8]^W[i-14]^W[i-16];W[i]=(t<<1|t>>>31)&4294967295}buf=this.chain_[0];opt_offset=this.chain_[1];var c=this.chain_[2],d=this.chain_[3],e=this.chain_[4];\nfor(i=0;80>i;i++){if(40>i)if(20>i){t=d^opt_offset&(c^d);var k=1518500249}else t=opt_offset^c^d,k=1859775393;else 60>i?(t=opt_offset&c|d&(opt_offset|c),k=2400959708):(t=opt_offset^c^d,k=3395469782);t=(buf<<5|buf>>>27)+t+e+k+W[i]&4294967295;e=d;d=c;c=(opt_offset<<30|opt_offset>>>2)&4294967295;opt_offset=buf;buf=t}this.chain_[0]=this.chain_[0]+buf&4294967295;this.chain_[1]=this.chain_[1]+opt_offset&4294967295;this.chain_[2]=this.chain_[2]+c&4294967295;this.chain_[3]=this.chain_[3]+d&4294967295;this.chain_[4]=\nthis.chain_[4]+e&4294967295};Sha1.prototype.update=function(bytes,opt_length){if(null!=bytes){void 0===opt_length&&(opt_length=bytes.length);for(var lengthMinusBlock=opt_length-this.blockSize,n=0,buf=this.buf_,inbuf=this.inbuf_;n<opt_length;){if(0==inbuf)for(;n<=lengthMinusBlock;)this.compress_(bytes,n),n+=this.blockSize;if(\"string\"===typeof bytes)for(;n<opt_length;){if(buf[inbuf]=bytes.charCodeAt(n),++inbuf,++n,inbuf==this.blockSize){this.compress_(buf);inbuf=0;break}}else for(;n<opt_length;)if(buf[inbuf]=\nbytes[n],++inbuf,++n,inbuf==this.blockSize){this.compress_(buf);inbuf=0;break}}this.inbuf_=inbuf;this.total_+=opt_length}};Sha1.prototype.digest=function(){var digest=[],totalBits=8*this.total_;56>this.inbuf_?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var i=this.blockSize-1;56<=i;i--)this.buf_[i]=totalBits&255,totalBits/=256;this.compress_(this.buf_);for(i=totalBits=0;5>i;i++)for(var j=24;0<=j;j-=8)digest[totalBits]=this.chain_[i]>>j&255,++totalBits;\nreturn digest};return Sha1}(function(){return function(){this.blockSize=-1}}());var ObserverProxy=function(){function ObserverProxy(executor,onNoObservers){var _this=this;this.observers=[];this.unsubscribes=[];this.observerCount=0;this.task=Promise.resolve();this.finalized=!1;this.onNoObservers=onNoObservers;this.task.then(function(){executor(_this)}).catch(function(e){_this.error(e)})}ObserverProxy.prototype.next=function(value){this.forEachObserver(function(observer){observer.next(value)})};ObserverProxy.prototype.error=\nfunction(error){this.forEachObserver(function(observer){observer.error(error)});this.close(error)};ObserverProxy.prototype.complete=function(){this.forEachObserver(function(observer){observer.complete()});this.close()};ObserverProxy.prototype.subscribe=function(nextOrObserver,error,complete){var _this=this;if(void 0===nextOrObserver&&void 0===error&&void 0===complete)throw Error(\"Missing Observer.\");var observer=implementsAnyMethods(nextOrObserver,[\"next\",\"error\",\"complete\"])?nextOrObserver:{next:nextOrObserver,\nerror:error,complete:complete};void 0===observer.next&&(observer.next=noop);void 0===observer.error&&(observer.error=noop);void 0===observer.complete&&(observer.complete=noop);nextOrObserver=this.unsubscribeOne.bind(this,this.observers.length);this.finalized&&this.task.then(function(){try{_this.finalError?observer.error(_this.finalError):observer.complete()}catch(e){}});this.observers.push(observer);return nextOrObserver};ObserverProxy.prototype.unsubscribeOne=function(i){if(void 0!==this.observers&&\nvoid 0!==this.observers[i]&&(delete this.observers[i],--this.observerCount,0===this.observerCount&&void 0!==this.onNoObservers))this.onNoObservers(this)};ObserverProxy.prototype.forEachObserver=function(fn){if(!this.finalized)for(var i=0;i<this.observers.length;i++)this.sendOne(i,fn)};ObserverProxy.prototype.sendOne=function(i,fn){var _this=this;this.task.then(function(){if(void 0!==_this.observers&&void 0!==_this.observers[i])try{fn(_this.observers[i])}catch(e){\"undefined\"!==typeof console&&console.error&&\nconsole.error(e)}})};ObserverProxy.prototype.close=function(err){var _this=this;this.finalized||(this.finalized=!0,void 0!==err&&(this.finalError=err),this.task.then(function(){_this.observers=void 0;_this.onNoObservers=void 0}))};return ObserverProxy}();exports.assert=assert;exports.assertionError=assertionError;exports.base64=base64;exports.base64Decode=base64Decode;exports.base64Encode=function(str){str=stringToByteArray(str);return base64.encodeByteArray(str,!0)};exports.CONSTANTS=CONSTANTS;exports.deepCopy=\nfunction(value){return deepExtend(void 0,value)};exports.deepExtend=deepExtend;exports.patchProperty=function(obj,prop,value){obj[prop]=value};exports.Deferred=global;exports.getUA=getUA;exports.isMobileCordova=function(){return\"undefined\"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(getUA())};exports.isNodeSdk=function(){return!0===CONSTANTS.NODE_CLIENT||!0===CONSTANTS.NODE_ADMIN};exports.isReactNative=function(){return\"object\"===\ntypeof navigator&&\"ReactNative\"===navigator.product};exports.ErrorFactory=ErrorFactory;exports.FirebaseError=FirebaseError;exports.patchCapture=function(captureFake){var result=captureStackTrace;captureStackTrace=captureFake;return result};exports.jsonEval=jsonEval;exports.stringify=function(data){return JSON.stringify(data)};exports.decode=decode;exports.isAdmin=function(token){token=decode(token).claims;return\"object\"===typeof token&&!0===token.admin};exports.issuedAtTime=function(token){token=\ndecode(token).claims;return\"object\"===typeof token&&token.hasOwnProperty(\"iat\")?token.iat:null};exports.isValidFormat=function(token){token=decode(token);var claims=token.claims;return!!token.signature&&!!claims&&\"object\"===typeof claims&&claims.hasOwnProperty(\"iat\")};exports.isValidTimestamp=function(token){token=decode(token).claims;var now=Math.floor((new Date).getTime()/1E3),validSince;if(\"object\"===typeof token){token.hasOwnProperty(\"nbf\")?validSince=token.nbf:token.hasOwnProperty(\"iat\")&&(validSince=\ntoken.iat);var validUntil=token.hasOwnProperty(\"exp\")?token.exp:validSince+86400}return now&&validSince&&validUntil&&now>=validSince&&now<=validUntil};exports.clone=function(obj){return extend({},obj)};exports.contains=function(obj,key){return Object.prototype.hasOwnProperty.call(obj,key)};exports.every=function(obj,fn){for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)&&!fn(key,obj[key]))return!1;return!0};exports.extend=extend;exports.findKey=findKey;exports.findValue=function(obj,\nfn,opt_this){return(fn=findKey(obj,fn,opt_this))&&obj[fn]};exports.forEach=forEach;exports.getAnyKey=function(obj){for(var key in obj)return key};exports.getCount=function(obj){var rv=0,key;for(key in obj)rv++;return rv};exports.getValues=function(obj){var res=[],i=0,key;for(key in obj)res[i++]=obj[key];return res};exports.isEmpty=function(obj){for(var key in obj)return!1;return!0};exports.isNonNullObject=function(obj){return\"object\"===typeof obj&&null!==obj};exports.map=function(obj,f,opt_obj){var res=\n{},key;for(key in obj)res[key]=f.call(opt_obj,obj[key],key,obj);return res};exports.safeGet=function(obj,key){if(Object.prototype.hasOwnProperty.call(obj,key))return obj[key]};exports.querystring=function(querystringParams){var params=[];forEach(querystringParams,function(key,value){Array.isArray(value)?value.forEach(function(arrayVal){params.push(encodeURIComponent(key)+\"\\x3d\"+encodeURIComponent(arrayVal))}):params.push(encodeURIComponent(key)+\"\\x3d\"+encodeURIComponent(value))});return params.length?\n\"\\x26\"+params.join(\"\\x26\"):\"\"};exports.querystringDecode=function(querystring){var obj={};querystring.replace(/^\\?/,\"\").split(\"\\x26\").forEach(function(token){token&&(token=token.split(\"\\x3d\"),obj[token[0]]=token[1])});return obj};exports.Sha1=process;exports.async=function(fn,onError){return function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];Promise.resolve(!0).then(function(){fn.apply(void 0,args)}).catch(function(error){onError&&onError(error)})}};exports.createSubscribe=\nfunction(executor,onNoObservers){executor=new ObserverProxy(executor,onNoObservers);return executor.subscribe.bind(executor)};exports.errorPrefix=errorPrefix;exports.validateArgCount=function(fnName,minCount,maxCount,argCount){var argError;argCount<minCount?argError=\"at least \"+minCount:argCount>maxCount&&(argError=0===maxCount?\"none\":\"no more than \"+maxCount);if(argError)throw Error(fnName+\" failed: Was called with \"+argCount+(1===argCount?\" argument.\":\" arguments.\")+\" Expects \"+argError+\".\");};\nexports.validateCallback=function(fnName,argumentNumber,callback,optional){if((!optional||callback)&&\"function\"!==typeof callback)throw Error(errorPrefix(fnName,argumentNumber,optional)+\"must be a valid function.\");};exports.validateContextObject=function(fnName,argumentNumber,context,optional){if(!optional||context)if(\"object\"!==typeof context||null===context)throw Error(errorPrefix(fnName,argumentNumber,optional)+\"must be a valid context object.\");};exports.validateNamespace=function(fnName,argumentNumber,\nnamespace,optional){if((!optional||namespace)&&\"string\"!==typeof namespace)throw Error(errorPrefix(fnName,argumentNumber,optional)+\"must be a valid firebase namespace.\");};exports.stringLength=function(str){for(var p=0,i=0;i<str.length;i++){var c=str.charCodeAt(i);128>c?p++:2048>c?p+=2:55296<=c&&56319>=c?(p+=4,i++):p+=3}return p};exports.stringToByteArray=function(str){for(var out=[],p=0,i=0;i<str.length;i++){var c=str.charCodeAt(i);if(55296<=c&&56319>=c){c-=55296;i++;assert(i<str.length,\"Surrogate pair missing trail surrogate.\");\nvar low=str.charCodeAt(i)-56320;c=65536+(c<<10)+low}128>c?out[p++]=c:(2048>c?out[p++]=c>>6|192:(65536>c?out[p++]=c>>12|224:(out[p++]=c>>18|240,out[p++]=c>>12&63|128),out[p++]=c>>6&63|128),out[p++]=c&63|128)}return out}}","~:source","shadow$provide[\"module$node_modules$$firebase$util$dist$index_cjs\"] = function(global,process,require,module,exports,shadow$shims) {\n'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nvar tslib_1 = require('tslib');\n\n/**\r\n * Copyright 2017 Google Inc.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * @fileoverview Firebase constants.  Some of these (@defines) can be overridden at compile-time.\r\n */\r\nvar CONSTANTS = {\r\n    /**\r\n     * @define {boolean} Whether this is the client Node.js SDK.\r\n     */\r\n    NODE_CLIENT: false,\r\n    /**\r\n     * @define {boolean} Whether this is the Admin Node.js SDK.\r\n     */\r\n    NODE_ADMIN: false,\r\n    /**\r\n     * Firebase SDK Version\r\n     */\r\n    SDK_VERSION: '${JSCORE_VERSION}'\r\n};\n\n/**\r\n * Copyright 2017 Google Inc.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * Throws an error if the provided assertion is falsy\r\n * @param {*} assertion The assertion to be tested for falsiness\r\n * @param {!string} message The message to display if the check fails\r\n */\r\nvar assert = function (assertion, message) {\r\n    if (!assertion) {\r\n        throw assertionError(message);\r\n    }\r\n};\r\n/**\r\n * Returns an Error object suitable for throwing.\r\n * @param {string} message\r\n * @return {!Error}\r\n */\r\nvar assertionError = function (message) {\r\n    return new Error('Firebase Database (' +\r\n        CONSTANTS.SDK_VERSION +\r\n        ') INTERNAL ASSERT FAILED: ' +\r\n        message);\r\n};\n\n/**\r\n * Copyright 2017 Google Inc.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nvar stringToByteArray = function (str) {\r\n    // TODO(user): Use native implementations if/when available\r\n    var out = [], p = 0;\r\n    for (var i = 0; i < str.length; i++) {\r\n        var c = str.charCodeAt(i);\r\n        if (c < 128) {\r\n            out[p++] = c;\r\n        }\r\n        else if (c < 2048) {\r\n            out[p++] = (c >> 6) | 192;\r\n            out[p++] = (c & 63) | 128;\r\n        }\r\n        else if ((c & 0xfc00) == 0xd800 &&\r\n            i + 1 < str.length &&\r\n            (str.charCodeAt(i + 1) & 0xfc00) == 0xdc00) {\r\n            // Surrogate Pair\r\n            c = 0x10000 + ((c & 0x03ff) << 10) + (str.charCodeAt(++i) & 0x03ff);\r\n            out[p++] = (c >> 18) | 240;\r\n            out[p++] = ((c >> 12) & 63) | 128;\r\n            out[p++] = ((c >> 6) & 63) | 128;\r\n            out[p++] = (c & 63) | 128;\r\n        }\r\n        else {\r\n            out[p++] = (c >> 12) | 224;\r\n            out[p++] = ((c >> 6) & 63) | 128;\r\n            out[p++] = (c & 63) | 128;\r\n        }\r\n    }\r\n    return out;\r\n};\r\n/**\r\n * Turns an array of numbers into the string given by the concatenation of the\r\n * characters to which the numbers correspond.\r\n * @param {Array<number>} bytes Array of numbers representing characters.\r\n * @return {string} Stringification of the array.\r\n */\r\nvar byteArrayToString = function (bytes) {\r\n    // TODO(user): Use native implementations if/when available\r\n    var out = [], pos = 0, c = 0;\r\n    while (pos < bytes.length) {\r\n        var c1 = bytes[pos++];\r\n        if (c1 < 128) {\r\n            out[c++] = String.fromCharCode(c1);\r\n        }\r\n        else if (c1 > 191 && c1 < 224) {\r\n            var c2 = bytes[pos++];\r\n            out[c++] = String.fromCharCode(((c1 & 31) << 6) | (c2 & 63));\r\n        }\r\n        else if (c1 > 239 && c1 < 365) {\r\n            // Surrogate Pair\r\n            var c2 = bytes[pos++];\r\n            var c3 = bytes[pos++];\r\n            var c4 = bytes[pos++];\r\n            var u = (((c1 & 7) << 18) | ((c2 & 63) << 12) | ((c3 & 63) << 6) | (c4 & 63)) -\r\n                0x10000;\r\n            out[c++] = String.fromCharCode(0xd800 + (u >> 10));\r\n            out[c++] = String.fromCharCode(0xdc00 + (u & 1023));\r\n        }\r\n        else {\r\n            var c2 = bytes[pos++];\r\n            var c3 = bytes[pos++];\r\n            out[c++] = String.fromCharCode(((c1 & 15) << 12) | ((c2 & 63) << 6) | (c3 & 63));\r\n        }\r\n    }\r\n    return out.join('');\r\n};\r\n// Static lookup maps, lazily populated by init_()\r\nvar base64 = {\r\n    /**\r\n     * Maps bytes to characters.\r\n     * @type {Object}\r\n     * @private\r\n     */\r\n    byteToCharMap_: null,\r\n    /**\r\n     * Maps characters to bytes.\r\n     * @type {Object}\r\n     * @private\r\n     */\r\n    charToByteMap_: null,\r\n    /**\r\n     * Maps bytes to websafe characters.\r\n     * @type {Object}\r\n     * @private\r\n     */\r\n    byteToCharMapWebSafe_: null,\r\n    /**\r\n     * Maps websafe characters to bytes.\r\n     * @type {Object}\r\n     * @private\r\n     */\r\n    charToByteMapWebSafe_: null,\r\n    /**\r\n     * Our default alphabet, shared between\r\n     * ENCODED_VALS and ENCODED_VALS_WEBSAFE\r\n     * @type {string}\r\n     */\r\n    ENCODED_VALS_BASE: 'ABCDEFGHIJKLMNOPQRSTUVWXYZ' + 'abcdefghijklmnopqrstuvwxyz' + '0123456789',\r\n    /**\r\n     * Our default alphabet. Value 64 (=) is special; it means \"nothing.\"\r\n     * @type {string}\r\n     */\r\n    get ENCODED_VALS() {\r\n        return this.ENCODED_VALS_BASE + '+/=';\r\n    },\r\n    /**\r\n     * Our websafe alphabet.\r\n     * @type {string}\r\n     */\r\n    get ENCODED_VALS_WEBSAFE() {\r\n        return this.ENCODED_VALS_BASE + '-_.';\r\n    },\r\n    /**\r\n     * Whether this browser supports the atob and btoa functions. This extension\r\n     * started at Mozilla but is now implemented by many browsers. We use the\r\n     * ASSUME_* variables to avoid pulling in the full useragent detection library\r\n     * but still allowing the standard per-browser compilations.\r\n     *\r\n     * @type {boolean}\r\n     */\r\n    HAS_NATIVE_SUPPORT: typeof atob === 'function',\r\n    /**\r\n     * Base64-encode an array of bytes.\r\n     *\r\n     * @param {Array<number>|Uint8Array} input An array of bytes (numbers with\r\n     *     value in [0, 255]) to encode.\r\n     * @param {boolean=} opt_webSafe Boolean indicating we should use the\r\n     *     alternative alphabet.\r\n     * @return {string} The base64 encoded string.\r\n     */\r\n    encodeByteArray: function (input, opt_webSafe) {\r\n        if (!Array.isArray(input)) {\r\n            throw Error('encodeByteArray takes an array as a parameter');\r\n        }\r\n        this.init_();\r\n        var byteToCharMap = opt_webSafe\r\n            ? this.byteToCharMapWebSafe_\r\n            : this.byteToCharMap_;\r\n        var output = [];\r\n        for (var i = 0; i < input.length; i += 3) {\r\n            var byte1 = input[i];\r\n            var haveByte2 = i + 1 < input.length;\r\n            var byte2 = haveByte2 ? input[i + 1] : 0;\r\n            var haveByte3 = i + 2 < input.length;\r\n            var byte3 = haveByte3 ? input[i + 2] : 0;\r\n            var outByte1 = byte1 >> 2;\r\n            var outByte2 = ((byte1 & 0x03) << 4) | (byte2 >> 4);\r\n            var outByte3 = ((byte2 & 0x0f) << 2) | (byte3 >> 6);\r\n            var outByte4 = byte3 & 0x3f;\r\n            if (!haveByte3) {\r\n                outByte4 = 64;\r\n                if (!haveByte2) {\r\n                    outByte3 = 64;\r\n                }\r\n            }\r\n            output.push(byteToCharMap[outByte1], byteToCharMap[outByte2], byteToCharMap[outByte3], byteToCharMap[outByte4]);\r\n        }\r\n        return output.join('');\r\n    },\r\n    /**\r\n     * Base64-encode a string.\r\n     *\r\n     * @param {string} input A string to encode.\r\n     * @param {boolean=} opt_webSafe If true, we should use the\r\n     *     alternative alphabet.\r\n     * @return {string} The base64 encoded string.\r\n     */\r\n    encodeString: function (input, opt_webSafe) {\r\n        // Shortcut for Mozilla browsers that implement\r\n        // a native base64 encoder in the form of \"btoa/atob\"\r\n        if (this.HAS_NATIVE_SUPPORT && !opt_webSafe) {\r\n            return btoa(input);\r\n        }\r\n        return this.encodeByteArray(stringToByteArray(input), opt_webSafe);\r\n    },\r\n    /**\r\n     * Base64-decode a string.\r\n     *\r\n     * @param {string} input to decode.\r\n     * @param {boolean=} opt_webSafe True if we should use the\r\n     *     alternative alphabet.\r\n     * @return {string} string representing the decoded value.\r\n     */\r\n    decodeString: function (input, opt_webSafe) {\r\n        // Shortcut for Mozilla browsers that implement\r\n        // a native base64 encoder in the form of \"btoa/atob\"\r\n        if (this.HAS_NATIVE_SUPPORT && !opt_webSafe) {\r\n            return atob(input);\r\n        }\r\n        return byteArrayToString(this.decodeStringToByteArray(input, opt_webSafe));\r\n    },\r\n    /**\r\n     * Base64-decode a string.\r\n     *\r\n     * In base-64 decoding, groups of four characters are converted into three\r\n     * bytes.  If the encoder did not apply padding, the input length may not\r\n     * be a multiple of 4.\r\n     *\r\n     * In this case, the last group will have fewer than 4 characters, and\r\n     * padding will be inferred.  If the group has one or two characters, it decodes\r\n     * to one byte.  If the group has three characters, it decodes to two bytes.\r\n     *\r\n     * @param {string} input Input to decode.\r\n     * @param {boolean=} opt_webSafe True if we should use the web-safe alphabet.\r\n     * @return {!Array<number>} bytes representing the decoded value.\r\n     */\r\n    decodeStringToByteArray: function (input, opt_webSafe) {\r\n        this.init_();\r\n        var charToByteMap = opt_webSafe\r\n            ? this.charToByteMapWebSafe_\r\n            : this.charToByteMap_;\r\n        var output = [];\r\n        for (var i = 0; i < input.length;) {\r\n            var byte1 = charToByteMap[input.charAt(i++)];\r\n            var haveByte2 = i < input.length;\r\n            var byte2 = haveByte2 ? charToByteMap[input.charAt(i)] : 0;\r\n            ++i;\r\n            var haveByte3 = i < input.length;\r\n            var byte3 = haveByte3 ? charToByteMap[input.charAt(i)] : 64;\r\n            ++i;\r\n            var haveByte4 = i < input.length;\r\n            var byte4 = haveByte4 ? charToByteMap[input.charAt(i)] : 64;\r\n            ++i;\r\n            if (byte1 == null || byte2 == null || byte3 == null || byte4 == null) {\r\n                throw Error();\r\n            }\r\n            var outByte1 = (byte1 << 2) | (byte2 >> 4);\r\n            output.push(outByte1);\r\n            if (byte3 != 64) {\r\n                var outByte2 = ((byte2 << 4) & 0xf0) | (byte3 >> 2);\r\n                output.push(outByte2);\r\n                if (byte4 != 64) {\r\n                    var outByte3 = ((byte3 << 6) & 0xc0) | byte4;\r\n                    output.push(outByte3);\r\n                }\r\n            }\r\n        }\r\n        return output;\r\n    },\r\n    /**\r\n     * Lazy static initialization function. Called before\r\n     * accessing any of the static map variables.\r\n     * @private\r\n     */\r\n    init_: function () {\r\n        if (!this.byteToCharMap_) {\r\n            this.byteToCharMap_ = {};\r\n            this.charToByteMap_ = {};\r\n            this.byteToCharMapWebSafe_ = {};\r\n            this.charToByteMapWebSafe_ = {};\r\n            // We want quick mappings back and forth, so we precompute two maps.\r\n            for (var i = 0; i < this.ENCODED_VALS.length; i++) {\r\n                this.byteToCharMap_[i] = this.ENCODED_VALS.charAt(i);\r\n                this.charToByteMap_[this.byteToCharMap_[i]] = i;\r\n                this.byteToCharMapWebSafe_[i] = this.ENCODED_VALS_WEBSAFE.charAt(i);\r\n                this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]] = i;\r\n                // Be forgiving when decoding and correctly decode both encodings.\r\n                if (i >= this.ENCODED_VALS_BASE.length) {\r\n                    this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)] = i;\r\n                    this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)] = i;\r\n                }\r\n            }\r\n        }\r\n    }\r\n};\r\n/**\r\n * URL-safe base64 encoding\r\n * @param {!string} str\r\n * @return {!string}\r\n */\r\nvar base64Encode = function (str) {\r\n    var utf8Bytes = stringToByteArray(str);\r\n    return base64.encodeByteArray(utf8Bytes, true);\r\n};\r\n/**\r\n * URL-safe base64 decoding\r\n *\r\n * NOTE: DO NOT use the global atob() function - it does NOT support the\r\n * base64Url variant encoding.\r\n *\r\n * @param {string} str To be decoded\r\n * @return {?string} Decoded result, if possible\r\n */\r\nvar base64Decode = function (str) {\r\n    try {\r\n        return base64.decodeString(str, true);\r\n    }\r\n    catch (e) {\r\n        console.error('base64Decode failed: ', e);\r\n    }\r\n    return null;\r\n};\n\n/**\r\n * Copyright 2017 Google Inc.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * Do a deep-copy of basic JavaScript Objects or Arrays.\r\n */\r\nfunction deepCopy(value) {\r\n    return deepExtend(undefined, value);\r\n}\r\n/**\r\n * Copy properties from source to target (recursively allows extension\r\n * of Objects and Arrays).  Scalar values in the target are over-written.\r\n * If target is undefined, an object of the appropriate type will be created\r\n * (and returned).\r\n *\r\n * We recursively copy all child properties of plain Objects in the source- so\r\n * that namespace- like dictionaries are merged.\r\n *\r\n * Note that the target can be a function, in which case the properties in\r\n * the source Object are copied onto it as static properties of the Function.\r\n */\r\nfunction deepExtend(target, source) {\r\n    if (!(source instanceof Object)) {\r\n        return source;\r\n    }\r\n    switch (source.constructor) {\r\n        case Date:\r\n            // Treat Dates like scalars; if the target date object had any child\r\n            // properties - they will be lost!\r\n            var dateValue = source;\r\n            return new Date(dateValue.getTime());\r\n        case Object:\r\n            if (target === undefined) {\r\n                target = {};\r\n            }\r\n            break;\r\n        case Array:\r\n            // Always copy the array source and overwrite the target.\r\n            target = [];\r\n            break;\r\n        default:\r\n            // Not a plain Object - treat it as a scalar.\r\n            return source;\r\n    }\r\n    for (var prop in source) {\r\n        if (!source.hasOwnProperty(prop)) {\r\n            continue;\r\n        }\r\n        target[prop] = deepExtend(target[prop], source[prop]);\r\n    }\r\n    return target;\r\n}\r\n// TODO: Really needed (for JSCompiler type checking)?\r\nfunction patchProperty(obj, prop, value) {\r\n    obj[prop] = value;\r\n}\n\n/**\r\n * Copyright 2017 Google Inc.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nvar Deferred = /** @class */ (function () {\r\n    function Deferred() {\r\n        var _this = this;\r\n        this.promise = new Promise(function (resolve, reject) {\r\n            _this.resolve = resolve;\r\n            _this.reject = reject;\r\n        });\r\n    }\r\n    /**\r\n     * Our API internals are not promiseified and cannot because our callback APIs have subtle expectations around\r\n     * invoking promises inline, which Promises are forbidden to do. This method accepts an optional node-style callback\r\n     * and returns a node-style callback which will resolve or reject the Deferred's promise.\r\n     * @param {((?function(?(Error)): (?|undefined))| (?function(?(Error),?=): (?|undefined)))=} callback\r\n     * @return {!function(?(Error), ?=)}\r\n     */\r\n    Deferred.prototype.wrapCallback = function (callback) {\r\n        var _this = this;\r\n        return function (error, value) {\r\n            if (error) {\r\n                _this.reject(error);\r\n            }\r\n            else {\r\n                _this.resolve(value);\r\n            }\r\n            if (typeof callback === 'function') {\r\n                // Attaching noop handler just in case developer wasn't expecting\r\n                // promises\r\n                _this.promise.catch(function () { });\r\n                // Some of our callbacks don't expect a value and our own tests\r\n                // assert that the parameter length is 1\r\n                if (callback.length === 1) {\r\n                    callback(error);\r\n                }\r\n                else {\r\n                    callback(error, value);\r\n                }\r\n            }\r\n        };\r\n    };\r\n    return Deferred;\r\n}());\n\n/**\r\n * Copyright 2017 Google Inc.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * Returns navigator.userAgent string or '' if it's not defined.\r\n * @return {string} user agent string\r\n */\r\nvar getUA = function () {\r\n    if (typeof navigator !== 'undefined' &&\r\n        typeof navigator['userAgent'] === 'string') {\r\n        return navigator['userAgent'];\r\n    }\r\n    else {\r\n        return '';\r\n    }\r\n};\r\n/**\r\n * Detect Cordova / PhoneGap / Ionic frameworks on a mobile device.\r\n *\r\n * Deliberately does not rely on checking `file://` URLs (as this fails PhoneGap in the Ripple emulator) nor\r\n * Cordova `onDeviceReady`, which would normally wait for a callback.\r\n *\r\n * @return {boolean} isMobileCordova\r\n */\r\nvar isMobileCordova = function () {\r\n    return (typeof window !== 'undefined' &&\r\n        !!(window['cordova'] || window['phonegap'] || window['PhoneGap']) &&\r\n        /ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(getUA()));\r\n};\r\n/**\r\n * Detect React Native.\r\n *\r\n * @return {boolean} True if ReactNative environment is detected.\r\n */\r\nvar isReactNative = function () {\r\n    return (typeof navigator === 'object' && navigator['product'] === 'ReactNative');\r\n};\r\n/**\r\n * Detect Node.js.\r\n *\r\n * @return {boolean} True if Node.js environment is detected.\r\n */\r\nvar isNodeSdk = function () {\r\n    return CONSTANTS.NODE_CLIENT === true || CONSTANTS.NODE_ADMIN === true;\r\n};\n\nvar ERROR_NAME = 'FirebaseError';\r\nvar captureStackTrace = Error\r\n    .captureStackTrace;\r\n// Export for faking in tests\r\nfunction patchCapture(captureFake) {\r\n    var result = captureStackTrace;\r\n    captureStackTrace = captureFake;\r\n    return result;\r\n}\r\nvar FirebaseError = /** @class */ (function () {\r\n    function FirebaseError(code, message) {\r\n        this.code = code;\r\n        this.message = message;\r\n        // We want the stack value, if implemented by Error\r\n        if (captureStackTrace) {\r\n            // Patches this.stack, omitted calls above ErrorFactory#create\r\n            captureStackTrace(this, ErrorFactory.prototype.create);\r\n        }\r\n        else {\r\n            try {\r\n                // In case of IE11, stack will be set only after error is raised.\r\n                // https://docs.microsoft.com/en-us/scripting/javascript/reference/stack-property-error-javascript\r\n                throw Error.apply(this, arguments);\r\n            }\r\n            catch (err) {\r\n                this.name = ERROR_NAME;\r\n                // Make non-enumerable getter for the property.\r\n                Object.defineProperty(this, 'stack', {\r\n                    get: function () {\r\n                        return err.stack;\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    }\r\n    return FirebaseError;\r\n}());\r\n// Back-door inheritance\r\nFirebaseError.prototype = Object.create(Error.prototype);\r\nFirebaseError.prototype.constructor = FirebaseError;\r\nFirebaseError.prototype.name = ERROR_NAME;\r\nvar ErrorFactory = /** @class */ (function () {\r\n    function ErrorFactory(service, serviceName, errors) {\r\n        this.service = service;\r\n        this.serviceName = serviceName;\r\n        this.errors = errors;\r\n        // Matches {$name}, by default.\r\n        this.pattern = /\\{\\$([^}]+)}/g;\r\n        // empty\r\n    }\r\n    ErrorFactory.prototype.create = function (code, data) {\r\n        if (data === undefined) {\r\n            data = {};\r\n        }\r\n        var template = this.errors[code];\r\n        var fullCode = this.service + '/' + code;\r\n        var message;\r\n        if (template === undefined) {\r\n            message = 'Error';\r\n        }\r\n        else {\r\n            message = template.replace(this.pattern, function (match, key) {\r\n                var value = data[key];\r\n                return value !== undefined ? value.toString() : '<' + key + '?>';\r\n            });\r\n        }\r\n        // Service: Error message (service/code).\r\n        message = this.serviceName + ': ' + message + ' (' + fullCode + ').';\r\n        var err = new FirebaseError(fullCode, message);\r\n        // Populate the Error object with message parts for programmatic\r\n        // accesses (e.g., e.file).\r\n        for (var prop in data) {\r\n            if (!data.hasOwnProperty(prop) || prop.slice(-1) === '_') {\r\n                continue;\r\n            }\r\n            err[prop] = data[prop];\r\n        }\r\n        return err;\r\n    };\r\n    return ErrorFactory;\r\n}());\n\n/**\r\n * Copyright 2017 Google Inc.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * Evaluates a JSON string into a javascript object.\r\n *\r\n * @param {string} str A string containing JSON.\r\n * @return {*} The javascript object representing the specified JSON.\r\n */\r\nfunction jsonEval(str) {\r\n    return JSON.parse(str);\r\n}\r\n/**\r\n * Returns JSON representing a javascript object.\r\n * @param {*} data Javascript object to be stringified.\r\n * @return {string} The JSON contents of the object.\r\n */\r\nfunction stringify(data) {\r\n    return JSON.stringify(data);\r\n}\n\n/**\r\n * Copyright 2017 Google Inc.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * Decodes a Firebase auth. token into constituent parts.\r\n *\r\n * Notes:\r\n * - May return with invalid / incomplete claims if there's no native base64 decoding support.\r\n * - Doesn't check if the token is actually valid.\r\n *\r\n * @param {?string} token\r\n * @return {{header: *, claims: *, data: *, signature: string}}\r\n */\r\nvar decode = function (token) {\r\n    var header = {}, claims = {}, data = {}, signature = '';\r\n    try {\r\n        var parts = token.split('.');\r\n        header = jsonEval(base64Decode(parts[0]) || '');\r\n        claims = jsonEval(base64Decode(parts[1]) || '');\r\n        signature = parts[2];\r\n        data = claims['d'] || {};\r\n        delete claims['d'];\r\n    }\r\n    catch (e) { }\r\n    return {\r\n        header: header,\r\n        claims: claims,\r\n        data: data,\r\n        signature: signature\r\n    };\r\n};\r\n/**\r\n * Decodes a Firebase auth. token and checks the validity of its time-based claims. Will return true if the\r\n * token is within the time window authorized by the 'nbf' (not-before) and 'iat' (issued-at) claims.\r\n *\r\n * Notes:\r\n * - May return a false negative if there's no native base64 decoding support.\r\n * - Doesn't check if the token is actually valid.\r\n *\r\n * @param {?string} token\r\n * @return {boolean}\r\n */\r\nvar isValidTimestamp = function (token) {\r\n    var claims = decode(token).claims, now = Math.floor(new Date().getTime() / 1000), validSince, validUntil;\r\n    if (typeof claims === 'object') {\r\n        if (claims.hasOwnProperty('nbf')) {\r\n            validSince = claims['nbf'];\r\n        }\r\n        else if (claims.hasOwnProperty('iat')) {\r\n            validSince = claims['iat'];\r\n        }\r\n        if (claims.hasOwnProperty('exp')) {\r\n            validUntil = claims['exp'];\r\n        }\r\n        else {\r\n            // token will expire after 24h by default\r\n            validUntil = validSince + 86400;\r\n        }\r\n    }\r\n    return (now && validSince && validUntil && now >= validSince && now <= validUntil);\r\n};\r\n/**\r\n * Decodes a Firebase auth. token and returns its issued at time if valid, null otherwise.\r\n *\r\n * Notes:\r\n * - May return null if there's no native base64 decoding support.\r\n * - Doesn't check if the token is actually valid.\r\n *\r\n * @param {?string} token\r\n * @return {?number}\r\n */\r\nvar issuedAtTime = function (token) {\r\n    var claims = decode(token).claims;\r\n    if (typeof claims === 'object' && claims.hasOwnProperty('iat')) {\r\n        return claims['iat'];\r\n    }\r\n    return null;\r\n};\r\n/**\r\n * Decodes a Firebase auth. token and checks the validity of its format. Expects a valid issued-at time and non-empty\r\n * signature.\r\n *\r\n * Notes:\r\n * - May return a false negative if there's no native base64 decoding support.\r\n * - Doesn't check if the token is actually valid.\r\n *\r\n * @param {?string} token\r\n * @return {boolean}\r\n */\r\nvar isValidFormat = function (token) {\r\n    var decoded = decode(token), claims = decoded.claims;\r\n    return (!!decoded.signature &&\r\n        !!claims &&\r\n        typeof claims === 'object' &&\r\n        claims.hasOwnProperty('iat'));\r\n};\r\n/**\r\n * Attempts to peer into an auth token and determine if it's an admin auth token by looking at the claims portion.\r\n *\r\n * Notes:\r\n * - May return a false negative if there's no native base64 decoding support.\r\n * - Doesn't check if the token is actually valid.\r\n *\r\n * @param {?string} token\r\n * @return {boolean}\r\n */\r\nvar isAdmin = function (token) {\r\n    var claims = decode(token).claims;\r\n    return typeof claims === 'object' && claims['admin'] === true;\r\n};\n\n/**\r\n * Copyright 2017 Google Inc.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n// See http://www.devthought.com/2012/01/18/an-object-is-not-a-hash/\r\nvar contains = function (obj, key) {\r\n    return Object.prototype.hasOwnProperty.call(obj, key);\r\n};\r\nvar safeGet = function (obj, key) {\r\n    if (Object.prototype.hasOwnProperty.call(obj, key))\r\n        return obj[key];\r\n    // else return undefined.\r\n};\r\n/**\r\n * Enumerates the keys/values in an object, excluding keys defined on the prototype.\r\n *\r\n * @param {?Object.<K,V>} obj Object to enumerate.\r\n * @param {!function(K, V)} fn Function to call for each key and value.\r\n * @template K,V\r\n */\r\nvar forEach = function (obj, fn) {\r\n    for (var key in obj) {\r\n        if (Object.prototype.hasOwnProperty.call(obj, key)) {\r\n            fn(key, obj[key]);\r\n        }\r\n    }\r\n};\r\n/**\r\n * Copies all the (own) properties from one object to another.\r\n * @param {!Object} objTo\r\n * @param {!Object} objFrom\r\n * @return {!Object} objTo\r\n */\r\nvar extend = function (objTo, objFrom) {\r\n    forEach(objFrom, function (key, value) {\r\n        objTo[key] = value;\r\n    });\r\n    return objTo;\r\n};\r\n/**\r\n * Returns a clone of the specified object.\r\n * @param {!Object} obj\r\n * @return {!Object} cloned obj.\r\n */\r\nvar clone = function (obj) {\r\n    return extend({}, obj);\r\n};\r\n/**\r\n * Returns true if obj has typeof \"object\" and is not null.  Unlike goog.isObject(), does not return true\r\n * for functions.\r\n *\r\n * @param obj {*} A potential object.\r\n * @returns {boolean} True if it's an object.\r\n */\r\nvar isNonNullObject = function (obj) {\r\n    return typeof obj === 'object' && obj !== null;\r\n};\r\nvar isEmpty = function (obj) {\r\n    for (var key in obj) {\r\n        return false;\r\n    }\r\n    return true;\r\n};\r\nvar getCount = function (obj) {\r\n    var rv = 0;\r\n    for (var key in obj) {\r\n        rv++;\r\n    }\r\n    return rv;\r\n};\r\nvar map = function (obj, f, opt_obj) {\r\n    var res = {};\r\n    for (var key in obj) {\r\n        res[key] = f.call(opt_obj, obj[key], key, obj);\r\n    }\r\n    return res;\r\n};\r\nvar findKey = function (obj, fn, opt_this) {\r\n    for (var key in obj) {\r\n        if (fn.call(opt_this, obj[key], key, obj)) {\r\n            return key;\r\n        }\r\n    }\r\n    return undefined;\r\n};\r\nvar findValue = function (obj, fn, opt_this) {\r\n    var key = findKey(obj, fn, opt_this);\r\n    return key && obj[key];\r\n};\r\nvar getAnyKey = function (obj) {\r\n    for (var key in obj) {\r\n        return key;\r\n    }\r\n};\r\nvar getValues = function (obj) {\r\n    var res = [];\r\n    var i = 0;\r\n    for (var key in obj) {\r\n        res[i++] = obj[key];\r\n    }\r\n    return res;\r\n};\r\n/**\r\n * Tests whether every key/value pair in an object pass the test implemented\r\n * by the provided function\r\n *\r\n * @param {?Object.<K,V>} obj Object to test.\r\n * @param {!function(K, V)} fn Function to call for each key and value.\r\n * @template K,V\r\n */\r\nvar every = function (obj, fn) {\r\n    for (var key in obj) {\r\n        if (Object.prototype.hasOwnProperty.call(obj, key)) {\r\n            if (!fn(key, obj[key])) {\r\n                return false;\r\n            }\r\n        }\r\n    }\r\n    return true;\r\n};\n\n/**\r\n * Copyright 2017 Google Inc.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * Returns a querystring-formatted string (e.g. &arg=val&arg2=val2) from a params\r\n * object (e.g. {arg: 'val', arg2: 'val2'})\r\n * Note: You must prepend it with ? when adding it to a URL.\r\n *\r\n * @param {!Object} querystringParams\r\n * @return {string}\r\n */\r\nvar querystring = function (querystringParams) {\r\n    var params = [];\r\n    forEach(querystringParams, function (key, value) {\r\n        if (Array.isArray(value)) {\r\n            value.forEach(function (arrayVal) {\r\n                params.push(encodeURIComponent(key) + '=' + encodeURIComponent(arrayVal));\r\n            });\r\n        }\r\n        else {\r\n            params.push(encodeURIComponent(key) + '=' + encodeURIComponent(value));\r\n        }\r\n    });\r\n    return params.length ? '&' + params.join('&') : '';\r\n};\r\n/**\r\n * Decodes a querystring (e.g. ?arg=val&arg2=val2) into a params object (e.g. {arg: 'val', arg2: 'val2'})\r\n *\r\n * @param {string} querystring\r\n * @return {!Object}\r\n */\r\nvar querystringDecode = function (querystring) {\r\n    var obj = {};\r\n    var tokens = querystring.replace(/^\\?/, '').split('&');\r\n    tokens.forEach(function (token) {\r\n        if (token) {\r\n            var key = token.split('=');\r\n            obj[key[0]] = key[1];\r\n        }\r\n    });\r\n    return obj;\r\n};\n\n/**\r\n * Copyright 2017 Google Inc.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n// Copyright 2011 The Closure Library Authors. All Rights Reserved.\r\n//\r\n// Licensed under the Apache License, Version 2.0 (the \"License\");\r\n// you may not use this file except in compliance with the License.\r\n// You may obtain a copy of the License at\r\n//\r\n//      http://www.apache.org/licenses/LICENSE-2.0\r\n//\r\n// Unless required by applicable law or agreed to in writing, software\r\n// distributed under the License is distributed on an \"AS-IS\" BASIS,\r\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n// See the License for the specific language governing permissions and\r\n// limitations under the License.\r\n/**\r\n * @fileoverview Abstract cryptographic hash interface.\r\n *\r\n * See Sha1 and Md5 for sample implementations.\r\n *\r\n */\r\n/**\r\n * Create a cryptographic hash instance.\r\n *\r\n * @constructor\r\n * @struct\r\n */\r\nvar Hash = /** @class */ (function () {\r\n    function Hash() {\r\n        /**\r\n         * The block size for the hasher.\r\n         * @type {number}\r\n         */\r\n        this.blockSize = -1;\r\n    }\r\n    return Hash;\r\n}());\n\n/**\r\n * Copyright 2017 Google Inc.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * @fileoverview SHA-1 cryptographic hash.\r\n * Variable names follow the notation in FIPS PUB 180-3:\r\n * http://csrc.nist.gov/publications/fips/fips180-3/fips180-3_final.pdf.\r\n *\r\n * Usage:\r\n *   var sha1 = new sha1();\r\n *   sha1.update(bytes);\r\n *   var hash = sha1.digest();\r\n *\r\n * Performance:\r\n *   Chrome 23:   ~400 Mbit/s\r\n *   Firefox 16:  ~250 Mbit/s\r\n *\r\n */\r\n/**\r\n * SHA-1 cryptographic hash constructor.\r\n *\r\n * The properties declared here are discussed in the above algorithm document.\r\n * @constructor\r\n * @extends {Hash}\r\n * @final\r\n * @struct\r\n */\r\nvar Sha1 = /** @class */ (function (_super) {\r\n    tslib_1.__extends(Sha1, _super);\r\n    function Sha1() {\r\n        var _this = _super.call(this) || this;\r\n        /**\r\n         * Holds the previous values of accumulated variables a-e in the compress_\r\n         * function.\r\n         * @type {!Array<number>}\r\n         * @private\r\n         */\r\n        _this.chain_ = [];\r\n        /**\r\n         * A buffer holding the partially computed hash result.\r\n         * @type {!Array<number>}\r\n         * @private\r\n         */\r\n        _this.buf_ = [];\r\n        /**\r\n         * An array of 80 bytes, each a part of the message to be hashed.  Referred to\r\n         * as the message schedule in the docs.\r\n         * @type {!Array<number>}\r\n         * @private\r\n         */\r\n        _this.W_ = [];\r\n        /**\r\n         * Contains data needed to pad messages less than 64 bytes.\r\n         * @type {!Array<number>}\r\n         * @private\r\n         */\r\n        _this.pad_ = [];\r\n        /**\r\n         * @private {number}\r\n         */\r\n        _this.inbuf_ = 0;\r\n        /**\r\n         * @private {number}\r\n         */\r\n        _this.total_ = 0;\r\n        _this.blockSize = 512 / 8;\r\n        _this.pad_[0] = 128;\r\n        for (var i = 1; i < _this.blockSize; ++i) {\r\n            _this.pad_[i] = 0;\r\n        }\r\n        _this.reset();\r\n        return _this;\r\n    }\r\n    Sha1.prototype.reset = function () {\r\n        this.chain_[0] = 0x67452301;\r\n        this.chain_[1] = 0xefcdab89;\r\n        this.chain_[2] = 0x98badcfe;\r\n        this.chain_[3] = 0x10325476;\r\n        this.chain_[4] = 0xc3d2e1f0;\r\n        this.inbuf_ = 0;\r\n        this.total_ = 0;\r\n    };\r\n    /**\r\n     * Internal compress helper function.\r\n     * @param {!Array<number>|!Uint8Array|string} buf Block to compress.\r\n     * @param {number=} opt_offset Offset of the block in the buffer.\r\n     * @private\r\n     */\r\n    Sha1.prototype.compress_ = function (buf, opt_offset) {\r\n        if (!opt_offset) {\r\n            opt_offset = 0;\r\n        }\r\n        var W = this.W_;\r\n        // get 16 big endian words\r\n        if (typeof buf === 'string') {\r\n            for (var i = 0; i < 16; i++) {\r\n                // TODO(user): [bug 8140122] Recent versions of Safari for Mac OS and iOS\r\n                // have a bug that turns the post-increment ++ operator into pre-increment\r\n                // during JIT compilation.  We have code that depends heavily on SHA-1 for\r\n                // correctness and which is affected by this bug, so I've removed all uses\r\n                // of post-increment ++ in which the result value is used.  We can revert\r\n                // this change once the Safari bug\r\n                // (https://bugs.webkit.org/show_bug.cgi?id=109036) has been fixed and\r\n                // most clients have been updated.\r\n                W[i] =\r\n                    (buf.charCodeAt(opt_offset) << 24) |\r\n                        (buf.charCodeAt(opt_offset + 1) << 16) |\r\n                        (buf.charCodeAt(opt_offset + 2) << 8) |\r\n                        buf.charCodeAt(opt_offset + 3);\r\n                opt_offset += 4;\r\n            }\r\n        }\r\n        else {\r\n            for (var i = 0; i < 16; i++) {\r\n                W[i] =\r\n                    (buf[opt_offset] << 24) |\r\n                        (buf[opt_offset + 1] << 16) |\r\n                        (buf[opt_offset + 2] << 8) |\r\n                        buf[opt_offset + 3];\r\n                opt_offset += 4;\r\n            }\r\n        }\r\n        // expand to 80 words\r\n        for (var i = 16; i < 80; i++) {\r\n            var t = W[i - 3] ^ W[i - 8] ^ W[i - 14] ^ W[i - 16];\r\n            W[i] = ((t << 1) | (t >>> 31)) & 0xffffffff;\r\n        }\r\n        var a = this.chain_[0];\r\n        var b = this.chain_[1];\r\n        var c = this.chain_[2];\r\n        var d = this.chain_[3];\r\n        var e = this.chain_[4];\r\n        var f, k;\r\n        // TODO(user): Try to unroll this loop to speed up the computation.\r\n        for (var i = 0; i < 80; i++) {\r\n            if (i < 40) {\r\n                if (i < 20) {\r\n                    f = d ^ (b & (c ^ d));\r\n                    k = 0x5a827999;\r\n                }\r\n                else {\r\n                    f = b ^ c ^ d;\r\n                    k = 0x6ed9eba1;\r\n                }\r\n            }\r\n            else {\r\n                if (i < 60) {\r\n                    f = (b & c) | (d & (b | c));\r\n                    k = 0x8f1bbcdc;\r\n                }\r\n                else {\r\n                    f = b ^ c ^ d;\r\n                    k = 0xca62c1d6;\r\n                }\r\n            }\r\n            var t = (((a << 5) | (a >>> 27)) + f + e + k + W[i]) & 0xffffffff;\r\n            e = d;\r\n            d = c;\r\n            c = ((b << 30) | (b >>> 2)) & 0xffffffff;\r\n            b = a;\r\n            a = t;\r\n        }\r\n        this.chain_[0] = (this.chain_[0] + a) & 0xffffffff;\r\n        this.chain_[1] = (this.chain_[1] + b) & 0xffffffff;\r\n        this.chain_[2] = (this.chain_[2] + c) & 0xffffffff;\r\n        this.chain_[3] = (this.chain_[3] + d) & 0xffffffff;\r\n        this.chain_[4] = (this.chain_[4] + e) & 0xffffffff;\r\n    };\r\n    Sha1.prototype.update = function (bytes, opt_length) {\r\n        // TODO(johnlenz): tighten the function signature and remove this check\r\n        if (bytes == null) {\r\n            return;\r\n        }\r\n        if (opt_length === undefined) {\r\n            opt_length = bytes.length;\r\n        }\r\n        var lengthMinusBlock = opt_length - this.blockSize;\r\n        var n = 0;\r\n        // Using local instead of member variables gives ~5% speedup on Firefox 16.\r\n        var buf = this.buf_;\r\n        var inbuf = this.inbuf_;\r\n        // The outer while loop should execute at most twice.\r\n        while (n < opt_length) {\r\n            // When we have no data in the block to top up, we can directly process the\r\n            // input buffer (assuming it contains sufficient data). This gives ~25%\r\n            // speedup on Chrome 23 and ~15% speedup on Firefox 16, but requires that\r\n            // the data is provided in large chunks (or in multiples of 64 bytes).\r\n            if (inbuf == 0) {\r\n                while (n <= lengthMinusBlock) {\r\n                    this.compress_(bytes, n);\r\n                    n += this.blockSize;\r\n                }\r\n            }\r\n            if (typeof bytes === 'string') {\r\n                while (n < opt_length) {\r\n                    buf[inbuf] = bytes.charCodeAt(n);\r\n                    ++inbuf;\r\n                    ++n;\r\n                    if (inbuf == this.blockSize) {\r\n                        this.compress_(buf);\r\n                        inbuf = 0;\r\n                        // Jump to the outer loop so we use the full-block optimization.\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                while (n < opt_length) {\r\n                    buf[inbuf] = bytes[n];\r\n                    ++inbuf;\r\n                    ++n;\r\n                    if (inbuf == this.blockSize) {\r\n                        this.compress_(buf);\r\n                        inbuf = 0;\r\n                        // Jump to the outer loop so we use the full-block optimization.\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        this.inbuf_ = inbuf;\r\n        this.total_ += opt_length;\r\n    };\r\n    /** @override */\r\n    Sha1.prototype.digest = function () {\r\n        var digest = [];\r\n        var totalBits = this.total_ * 8;\r\n        // Add pad 0x80 0x00*.\r\n        if (this.inbuf_ < 56) {\r\n            this.update(this.pad_, 56 - this.inbuf_);\r\n        }\r\n        else {\r\n            this.update(this.pad_, this.blockSize - (this.inbuf_ - 56));\r\n        }\r\n        // Add # bits.\r\n        for (var i = this.blockSize - 1; i >= 56; i--) {\r\n            this.buf_[i] = totalBits & 255;\r\n            totalBits /= 256; // Don't use bit-shifting here!\r\n        }\r\n        this.compress_(this.buf_);\r\n        var n = 0;\r\n        for (var i = 0; i < 5; i++) {\r\n            for (var j = 24; j >= 0; j -= 8) {\r\n                digest[n] = (this.chain_[i] >> j) & 255;\r\n                ++n;\r\n            }\r\n        }\r\n        return digest;\r\n    };\r\n    return Sha1;\r\n}(Hash));\n\n/**\r\n * Helper to make a Subscribe function (just like Promise helps make a\r\n * Thenable).\r\n *\r\n * @param executor Function which can make calls to a single Observer\r\n *     as a proxy.\r\n * @param onNoObservers Callback when count of Observers goes to zero.\r\n */\r\nfunction createSubscribe(executor, onNoObservers) {\r\n    var proxy = new ObserverProxy(executor, onNoObservers);\r\n    return proxy.subscribe.bind(proxy);\r\n}\r\n/**\r\n * Implement fan-out for any number of Observers attached via a subscribe\r\n * function.\r\n */\r\nvar ObserverProxy = /** @class */ (function () {\r\n    /**\r\n     * @param executor Function which can make calls to a single Observer\r\n     *     as a proxy.\r\n     * @param onNoObservers Callback when count of Observers goes to zero.\r\n     */\r\n    function ObserverProxy(executor, onNoObservers) {\r\n        var _this = this;\r\n        this.observers = [];\r\n        this.unsubscribes = [];\r\n        this.observerCount = 0;\r\n        // Micro-task scheduling by calling task.then().\r\n        this.task = Promise.resolve();\r\n        this.finalized = false;\r\n        this.onNoObservers = onNoObservers;\r\n        // Call the executor asynchronously so subscribers that are called\r\n        // synchronously after the creation of the subscribe function\r\n        // can still receive the very first value generated in the executor.\r\n        this.task\r\n            .then(function () {\r\n            executor(_this);\r\n        })\r\n            .catch(function (e) {\r\n            _this.error(e);\r\n        });\r\n    }\r\n    ObserverProxy.prototype.next = function (value) {\r\n        this.forEachObserver(function (observer) {\r\n            observer.next(value);\r\n        });\r\n    };\r\n    ObserverProxy.prototype.error = function (error) {\r\n        this.forEachObserver(function (observer) {\r\n            observer.error(error);\r\n        });\r\n        this.close(error);\r\n    };\r\n    ObserverProxy.prototype.complete = function () {\r\n        this.forEachObserver(function (observer) {\r\n            observer.complete();\r\n        });\r\n        this.close();\r\n    };\r\n    /**\r\n     * Subscribe function that can be used to add an Observer to the fan-out list.\r\n     *\r\n     * - We require that no event is sent to a subscriber sychronously to their\r\n     *   call to subscribe().\r\n     */\r\n    ObserverProxy.prototype.subscribe = function (nextOrObserver, error, complete) {\r\n        var _this = this;\r\n        var observer;\r\n        if (nextOrObserver === undefined &&\r\n            error === undefined &&\r\n            complete === undefined) {\r\n            throw new Error('Missing Observer.');\r\n        }\r\n        // Assemble an Observer object when passed as callback functions.\r\n        if (implementsAnyMethods(nextOrObserver, ['next', 'error', 'complete'])) {\r\n            observer = nextOrObserver;\r\n        }\r\n        else {\r\n            observer = {\r\n                next: nextOrObserver,\r\n                error: error,\r\n                complete: complete\r\n            };\r\n        }\r\n        if (observer.next === undefined) {\r\n            observer.next = noop;\r\n        }\r\n        if (observer.error === undefined) {\r\n            observer.error = noop;\r\n        }\r\n        if (observer.complete === undefined) {\r\n            observer.complete = noop;\r\n        }\r\n        var unsub = this.unsubscribeOne.bind(this, this.observers.length);\r\n        // Attempt to subscribe to a terminated Observable - we\r\n        // just respond to the Observer with the final error or complete\r\n        // event.\r\n        if (this.finalized) {\r\n            this.task.then(function () {\r\n                try {\r\n                    if (_this.finalError) {\r\n                        observer.error(_this.finalError);\r\n                    }\r\n                    else {\r\n                        observer.complete();\r\n                    }\r\n                }\r\n                catch (e) {\r\n                    // nothing\r\n                }\r\n                return;\r\n            });\r\n        }\r\n        this.observers.push(observer);\r\n        return unsub;\r\n    };\r\n    // Unsubscribe is synchronous - we guarantee that no events are sent to\r\n    // any unsubscribed Observer.\r\n    ObserverProxy.prototype.unsubscribeOne = function (i) {\r\n        if (this.observers === undefined || this.observers[i] === undefined) {\r\n            return;\r\n        }\r\n        delete this.observers[i];\r\n        this.observerCount -= 1;\r\n        if (this.observerCount === 0 && this.onNoObservers !== undefined) {\r\n            this.onNoObservers(this);\r\n        }\r\n    };\r\n    ObserverProxy.prototype.forEachObserver = function (fn) {\r\n        if (this.finalized) {\r\n            // Already closed by previous event....just eat the additional values.\r\n            return;\r\n        }\r\n        // Since sendOne calls asynchronously - there is no chance that\r\n        // this.observers will become undefined.\r\n        for (var i = 0; i < this.observers.length; i++) {\r\n            this.sendOne(i, fn);\r\n        }\r\n    };\r\n    // Call the Observer via one of it's callback function. We are careful to\r\n    // confirm that the observe has not been unsubscribed since this asynchronous\r\n    // function had been queued.\r\n    ObserverProxy.prototype.sendOne = function (i, fn) {\r\n        var _this = this;\r\n        // Execute the callback asynchronously\r\n        this.task.then(function () {\r\n            if (_this.observers !== undefined && _this.observers[i] !== undefined) {\r\n                try {\r\n                    fn(_this.observers[i]);\r\n                }\r\n                catch (e) {\r\n                    // Ignore exceptions raised in Observers or missing methods of an\r\n                    // Observer.\r\n                    // Log error to console. b/31404806\r\n                    if (typeof console !== 'undefined' && console.error) {\r\n                        console.error(e);\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    };\r\n    ObserverProxy.prototype.close = function (err) {\r\n        var _this = this;\r\n        if (this.finalized) {\r\n            return;\r\n        }\r\n        this.finalized = true;\r\n        if (err !== undefined) {\r\n            this.finalError = err;\r\n        }\r\n        // Proxy is no longer needed - garbage collect references\r\n        this.task.then(function () {\r\n            _this.observers = undefined;\r\n            _this.onNoObservers = undefined;\r\n        });\r\n    };\r\n    return ObserverProxy;\r\n}());\r\n/** Turn synchronous function into one called asynchronously. */\r\nfunction async(fn, onError) {\r\n    return function () {\r\n        var args = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            args[_i] = arguments[_i];\r\n        }\r\n        Promise.resolve(true)\r\n            .then(function () {\r\n            fn.apply(void 0, args);\r\n        })\r\n            .catch(function (error) {\r\n            if (onError) {\r\n                onError(error);\r\n            }\r\n        });\r\n    };\r\n}\r\n/**\r\n * Return true if the object passed in implements any of the named methods.\r\n */\r\nfunction implementsAnyMethods(obj, methods) {\r\n    if (typeof obj !== 'object' || obj === null) {\r\n        return false;\r\n    }\r\n    for (var _i = 0, methods_1 = methods; _i < methods_1.length; _i++) {\r\n        var method = methods_1[_i];\r\n        if (method in obj && typeof obj[method] === 'function') {\r\n            return true;\r\n        }\r\n    }\r\n    return false;\r\n}\r\nfunction noop() {\r\n    // do nothing\r\n}\n\n/**\r\n * Copyright 2017 Google Inc.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * Check to make sure the appropriate number of arguments are provided for a public function.\r\n * Throws an error if it fails.\r\n *\r\n * @param {!string} fnName The function name\r\n * @param {!number} minCount The minimum number of arguments to allow for the function call\r\n * @param {!number} maxCount The maximum number of argument to allow for the function call\r\n * @param {!number} argCount The actual number of arguments provided.\r\n */\r\nvar validateArgCount = function (fnName, minCount, maxCount, argCount) {\r\n    var argError;\r\n    if (argCount < minCount) {\r\n        argError = 'at least ' + minCount;\r\n    }\r\n    else if (argCount > maxCount) {\r\n        argError = maxCount === 0 ? 'none' : 'no more than ' + maxCount;\r\n    }\r\n    if (argError) {\r\n        var error = fnName +\r\n            ' failed: Was called with ' +\r\n            argCount +\r\n            (argCount === 1 ? ' argument.' : ' arguments.') +\r\n            ' Expects ' +\r\n            argError +\r\n            '.';\r\n        throw new Error(error);\r\n    }\r\n};\r\n/**\r\n * Generates a string to prefix an error message about failed argument validation\r\n *\r\n * @param {!string} fnName The function name\r\n * @param {!number} argumentNumber The index of the argument\r\n * @param {boolean} optional Whether or not the argument is optional\r\n * @return {!string} The prefix to add to the error thrown for validation.\r\n */\r\nfunction errorPrefix(fnName, argumentNumber, optional) {\r\n    var argName = '';\r\n    switch (argumentNumber) {\r\n        case 1:\r\n            argName = optional ? 'first' : 'First';\r\n            break;\r\n        case 2:\r\n            argName = optional ? 'second' : 'Second';\r\n            break;\r\n        case 3:\r\n            argName = optional ? 'third' : 'Third';\r\n            break;\r\n        case 4:\r\n            argName = optional ? 'fourth' : 'Fourth';\r\n            break;\r\n        default:\r\n            throw new Error('errorPrefix called with argumentNumber > 4.  Need to update it?');\r\n    }\r\n    var error = fnName + ' failed: ';\r\n    error += argName + ' argument ';\r\n    return error;\r\n}\r\n/**\r\n * @param {!string} fnName\r\n * @param {!number} argumentNumber\r\n * @param {!string} namespace\r\n * @param {boolean} optional\r\n */\r\nfunction validateNamespace(fnName, argumentNumber, namespace, optional) {\r\n    if (optional && !namespace)\r\n        return;\r\n    if (typeof namespace !== 'string') {\r\n        //TODO: I should do more validation here. We only allow certain chars in namespaces.\r\n        throw new Error(errorPrefix(fnName, argumentNumber, optional) +\r\n            'must be a valid firebase namespace.');\r\n    }\r\n}\r\nfunction validateCallback(fnName, argumentNumber, callback, optional) {\r\n    if (optional && !callback)\r\n        return;\r\n    if (typeof callback !== 'function')\r\n        throw new Error(errorPrefix(fnName, argumentNumber, optional) +\r\n            'must be a valid function.');\r\n}\r\nfunction validateContextObject(fnName, argumentNumber, context, optional) {\r\n    if (optional && !context)\r\n        return;\r\n    if (typeof context !== 'object' || context === null)\r\n        throw new Error(errorPrefix(fnName, argumentNumber, optional) +\r\n            'must be a valid context object.');\r\n}\n\n/**\r\n * Copyright 2017 Google Inc.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n// Code originally came from goog.crypt.stringToUtf8ByteArray, but for some reason they\r\n// automatically replaced '\\r\\n' with '\\n', and they didn't handle surrogate pairs,\r\n// so it's been modified.\r\n// Note that not all Unicode characters appear as single characters in JavaScript strings.\r\n// fromCharCode returns the UTF-16 encoding of a character - so some Unicode characters\r\n// use 2 characters in Javascript.  All 4-byte UTF-8 characters begin with a first\r\n// character in the range 0xD800 - 0xDBFF (the first character of a so-called surrogate\r\n// pair).\r\n// See http://www.ecma-international.org/ecma-262/5.1/#sec-15.1.3\r\n/**\r\n * @param {string} str\r\n * @return {Array}\r\n */\r\nvar stringToByteArray$1 = function (str) {\r\n    var out = [], p = 0;\r\n    for (var i = 0; i < str.length; i++) {\r\n        var c = str.charCodeAt(i);\r\n        // Is this the lead surrogate in a surrogate pair?\r\n        if (c >= 0xd800 && c <= 0xdbff) {\r\n            var high = c - 0xd800; // the high 10 bits.\r\n            i++;\r\n            assert(i < str.length, 'Surrogate pair missing trail surrogate.');\r\n            var low = str.charCodeAt(i) - 0xdc00; // the low 10 bits.\r\n            c = 0x10000 + (high << 10) + low;\r\n        }\r\n        if (c < 128) {\r\n            out[p++] = c;\r\n        }\r\n        else if (c < 2048) {\r\n            out[p++] = (c >> 6) | 192;\r\n            out[p++] = (c & 63) | 128;\r\n        }\r\n        else if (c < 65536) {\r\n            out[p++] = (c >> 12) | 224;\r\n            out[p++] = ((c >> 6) & 63) | 128;\r\n            out[p++] = (c & 63) | 128;\r\n        }\r\n        else {\r\n            out[p++] = (c >> 18) | 240;\r\n            out[p++] = ((c >> 12) & 63) | 128;\r\n            out[p++] = ((c >> 6) & 63) | 128;\r\n            out[p++] = (c & 63) | 128;\r\n        }\r\n    }\r\n    return out;\r\n};\r\n/**\r\n * Calculate length without actually converting; useful for doing cheaper validation.\r\n * @param {string} str\r\n * @return {number}\r\n */\r\nvar stringLength = function (str) {\r\n    var p = 0;\r\n    for (var i = 0; i < str.length; i++) {\r\n        var c = str.charCodeAt(i);\r\n        if (c < 128) {\r\n            p++;\r\n        }\r\n        else if (c < 2048) {\r\n            p += 2;\r\n        }\r\n        else if (c >= 0xd800 && c <= 0xdbff) {\r\n            // Lead surrogate of a surrogate pair.  The pair together will take 4 bytes to represent.\r\n            p += 4;\r\n            i++; // skip trail surrogate.\r\n        }\r\n        else {\r\n            p += 3;\r\n        }\r\n    }\r\n    return p;\r\n};\n\n/**\r\n * Copyright 2017 Google Inc.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\n\nexports.assert = assert;\nexports.assertionError = assertionError;\nexports.base64 = base64;\nexports.base64Decode = base64Decode;\nexports.base64Encode = base64Encode;\nexports.CONSTANTS = CONSTANTS;\nexports.deepCopy = deepCopy;\nexports.deepExtend = deepExtend;\nexports.patchProperty = patchProperty;\nexports.Deferred = Deferred;\nexports.getUA = getUA;\nexports.isMobileCordova = isMobileCordova;\nexports.isNodeSdk = isNodeSdk;\nexports.isReactNative = isReactNative;\nexports.ErrorFactory = ErrorFactory;\nexports.FirebaseError = FirebaseError;\nexports.patchCapture = patchCapture;\nexports.jsonEval = jsonEval;\nexports.stringify = stringify;\nexports.decode = decode;\nexports.isAdmin = isAdmin;\nexports.issuedAtTime = issuedAtTime;\nexports.isValidFormat = isValidFormat;\nexports.isValidTimestamp = isValidTimestamp;\nexports.clone = clone;\nexports.contains = contains;\nexports.every = every;\nexports.extend = extend;\nexports.findKey = findKey;\nexports.findValue = findValue;\nexports.forEach = forEach;\nexports.getAnyKey = getAnyKey;\nexports.getCount = getCount;\nexports.getValues = getValues;\nexports.isEmpty = isEmpty;\nexports.isNonNullObject = isNonNullObject;\nexports.map = map;\nexports.safeGet = safeGet;\nexports.querystring = querystring;\nexports.querystringDecode = querystringDecode;\nexports.Sha1 = Sha1;\nexports.async = async;\nexports.createSubscribe = createSubscribe;\nexports.errorPrefix = errorPrefix;\nexports.validateArgCount = validateArgCount;\nexports.validateCallback = validateCallback;\nexports.validateContextObject = validateContextObject;\nexports.validateNamespace = validateNamespace;\nexports.stringLength = stringLength;\nexports.stringToByteArray = stringToByteArray$1;\n\n};","~:removed-requires",["~#set",[]],"~:actual-requires",["^5",["~$module$node_modules$tslib$tslib","~$shadow.js"]],"~:properties",["^5",["createSubscribe","isValidFormat","map","message","finalized","encodeByteArray","promise","ErrorFactory","getCount","validateContextObject","base64Decode","ENCODED_VALS_BASE","forEach","next","resolve","ENCODED_VALS","pad_","deepExtend","Deferred","prototype","querystringDecode","finalError","validateArgCount","getValues","every","wrapCallback","isReactNative","observers","NODE_ADMIN","decode","contains","SDK_VERSION","getUA","__esModule","complete","ENCODED_VALS_WEBSAFE","errorPrefix","W_","jsonEval","error","isMobileCordova","byteToCharMapWebSafe_","validateNamespace","reset","isAdmin","errors","base64","isValidTimestamp","update","isNonNullObject","async","name","decodeString","encodeString","digest","value","isNodeSdk","buf_","stringLength","findKey","CONSTANTS","getAnyKey","querystring","serviceName","signature","decodeStringToByteArray","sendOne","assertionError","task","blockSize","inbuf_","close","compress_","HAS_NATIVE_SUPPORT","pattern","stringToByteArray","stringify","deepCopy","observerCount","clone","extend","forEachObserver","create","patchCapture","chain_","unsubscribes","isEmpty","byteToCharMap_","charToByteMap_","service","patchProperty","issuedAtTime","FirebaseError","reject","claims","safeGet","base64Encode","unsubscribeOne","validateCallback","subscribe","data","get","init_","findValue","NODE_CLIENT","code","total_","header","assert","charToByteMapWebSafe_","stack","onNoObservers","constructor","Sha1"]],"~:compiled-at",1533407575028,"~:source-map-json","{\n\"version\":3,\n\"file\":\"module$node_modules$$firebase$util$dist$index_cjs.js\",\n\"lineCount\":36,\n\"mappings\":\"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\",\n\"sources\":[\"node_modules/@firebase/util/dist/index.cjs.js\"],\n\"sourcesContent\":[\"shadow$provide[\\\"module$node_modules$$firebase$util$dist$index_cjs\\\"] = function(global,process,require,module,exports,shadow$shims) {\\n'use strict';\\n\\nObject.defineProperty(exports, '__esModule', { value: true });\\n\\nvar tslib_1 = require('tslib');\\n\\n/**\\r\\n * Copyright 2017 Google Inc.\\r\\n *\\r\\n * Licensed under the Apache License, Version 2.0 (the \\\"License\\\");\\r\\n * you may not use this file except in compliance with the License.\\r\\n * You may obtain a copy of the License at\\r\\n *\\r\\n *   http://www.apache.org/licenses/LICENSE-2.0\\r\\n *\\r\\n * Unless required by applicable law or agreed to in writing, software\\r\\n * distributed under the License is distributed on an \\\"AS IS\\\" BASIS,\\r\\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\\r\\n * See the License for the specific language governing permissions and\\r\\n * limitations under the License.\\r\\n */\\r\\n/**\\r\\n * @fileoverview Firebase constants.  Some of these (@defines) can be overridden at compile-time.\\r\\n */\\r\\nvar CONSTANTS = {\\r\\n    /**\\r\\n     * @define {boolean} Whether this is the client Node.js SDK.\\r\\n     */\\r\\n    NODE_CLIENT: false,\\r\\n    /**\\r\\n     * @define {boolean} Whether this is the Admin Node.js SDK.\\r\\n     */\\r\\n    NODE_ADMIN: false,\\r\\n    /**\\r\\n     * Firebase SDK Version\\r\\n     */\\r\\n    SDK_VERSION: '${JSCORE_VERSION}'\\r\\n};\\n\\n/**\\r\\n * Copyright 2017 Google Inc.\\r\\n *\\r\\n * Licensed under the Apache License, Version 2.0 (the \\\"License\\\");\\r\\n * you may not use this file except in compliance with the License.\\r\\n * You may obtain a copy of the License at\\r\\n *\\r\\n *   http://www.apache.org/licenses/LICENSE-2.0\\r\\n *\\r\\n * Unless required by applicable law or agreed to in writing, software\\r\\n * distributed under the License is distributed on an \\\"AS IS\\\" BASIS,\\r\\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\\r\\n * See the License for the specific language governing permissions and\\r\\n * limitations under the License.\\r\\n */\\r\\n/**\\r\\n * Throws an error if the provided assertion is falsy\\r\\n * @param {*} assertion The assertion to be tested for falsiness\\r\\n * @param {!string} message The message to display if the check fails\\r\\n */\\r\\nvar assert = function (assertion, message) {\\r\\n    if (!assertion) {\\r\\n        throw assertionError(message);\\r\\n    }\\r\\n};\\r\\n/**\\r\\n * Returns an Error object suitable for throwing.\\r\\n * @param {string} message\\r\\n * @return {!Error}\\r\\n */\\r\\nvar assertionError = function (message) {\\r\\n    return new Error('Firebase Database (' +\\r\\n        CONSTANTS.SDK_VERSION +\\r\\n        ') INTERNAL ASSERT FAILED: ' +\\r\\n        message);\\r\\n};\\n\\n/**\\r\\n * Copyright 2017 Google Inc.\\r\\n *\\r\\n * Licensed under the Apache License, Version 2.0 (the \\\"License\\\");\\r\\n * you may not use this file except in compliance with the License.\\r\\n * You may obtain a copy of the License at\\r\\n *\\r\\n *   http://www.apache.org/licenses/LICENSE-2.0\\r\\n *\\r\\n * Unless required by applicable law or agreed to in writing, software\\r\\n * distributed under the License is distributed on an \\\"AS IS\\\" BASIS,\\r\\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\\r\\n * See the License for the specific language governing permissions and\\r\\n * limitations under the License.\\r\\n */\\r\\nvar stringToByteArray = function (str) {\\r\\n    // TODO(user): Use native implementations if/when available\\r\\n    var out = [], p = 0;\\r\\n    for (var i = 0; i < str.length; i++) {\\r\\n        var c = str.charCodeAt(i);\\r\\n        if (c < 128) {\\r\\n            out[p++] = c;\\r\\n        }\\r\\n        else if (c < 2048) {\\r\\n            out[p++] = (c >> 6) | 192;\\r\\n            out[p++] = (c & 63) | 128;\\r\\n        }\\r\\n        else if ((c & 0xfc00) == 0xd800 &&\\r\\n            i + 1 < str.length &&\\r\\n            (str.charCodeAt(i + 1) & 0xfc00) == 0xdc00) {\\r\\n            // Surrogate Pair\\r\\n            c = 0x10000 + ((c & 0x03ff) << 10) + (str.charCodeAt(++i) & 0x03ff);\\r\\n            out[p++] = (c >> 18) | 240;\\r\\n            out[p++] = ((c >> 12) & 63) | 128;\\r\\n            out[p++] = ((c >> 6) & 63) | 128;\\r\\n            out[p++] = (c & 63) | 128;\\r\\n        }\\r\\n        else {\\r\\n            out[p++] = (c >> 12) | 224;\\r\\n            out[p++] = ((c >> 6) & 63) | 128;\\r\\n            out[p++] = (c & 63) | 128;\\r\\n        }\\r\\n    }\\r\\n    return out;\\r\\n};\\r\\n/**\\r\\n * Turns an array of numbers into the string given by the concatenation of the\\r\\n * characters to which the numbers correspond.\\r\\n * @param {Array<number>} bytes Array of numbers representing characters.\\r\\n * @return {string} Stringification of the array.\\r\\n */\\r\\nvar byteArrayToString = function (bytes) {\\r\\n    // TODO(user): Use native implementations if/when available\\r\\n    var out = [], pos = 0, c = 0;\\r\\n    while (pos < bytes.length) {\\r\\n        var c1 = bytes[pos++];\\r\\n        if (c1 < 128) {\\r\\n            out[c++] = String.fromCharCode(c1);\\r\\n        }\\r\\n        else if (c1 > 191 && c1 < 224) {\\r\\n            var c2 = bytes[pos++];\\r\\n            out[c++] = String.fromCharCode(((c1 & 31) << 6) | (c2 & 63));\\r\\n        }\\r\\n        else if (c1 > 239 && c1 < 365) {\\r\\n            // Surrogate Pair\\r\\n            var c2 = bytes[pos++];\\r\\n            var c3 = bytes[pos++];\\r\\n            var c4 = bytes[pos++];\\r\\n            var u = (((c1 & 7) << 18) | ((c2 & 63) << 12) | ((c3 & 63) << 6) | (c4 & 63)) -\\r\\n                0x10000;\\r\\n            out[c++] = String.fromCharCode(0xd800 + (u >> 10));\\r\\n            out[c++] = String.fromCharCode(0xdc00 + (u & 1023));\\r\\n        }\\r\\n        else {\\r\\n            var c2 = bytes[pos++];\\r\\n            var c3 = bytes[pos++];\\r\\n            out[c++] = String.fromCharCode(((c1 & 15) << 12) | ((c2 & 63) << 6) | (c3 & 63));\\r\\n        }\\r\\n    }\\r\\n    return out.join('');\\r\\n};\\r\\n// Static lookup maps, lazily populated by init_()\\r\\nvar base64 = {\\r\\n    /**\\r\\n     * Maps bytes to characters.\\r\\n     * @type {Object}\\r\\n     * @private\\r\\n     */\\r\\n    byteToCharMap_: null,\\r\\n    /**\\r\\n     * Maps characters to bytes.\\r\\n     * @type {Object}\\r\\n     * @private\\r\\n     */\\r\\n    charToByteMap_: null,\\r\\n    /**\\r\\n     * Maps bytes to websafe characters.\\r\\n     * @type {Object}\\r\\n     * @private\\r\\n     */\\r\\n    byteToCharMapWebSafe_: null,\\r\\n    /**\\r\\n     * Maps websafe characters to bytes.\\r\\n     * @type {Object}\\r\\n     * @private\\r\\n     */\\r\\n    charToByteMapWebSafe_: null,\\r\\n    /**\\r\\n     * Our default alphabet, shared between\\r\\n     * ENCODED_VALS and ENCODED_VALS_WEBSAFE\\r\\n     * @type {string}\\r\\n     */\\r\\n    ENCODED_VALS_BASE: 'ABCDEFGHIJKLMNOPQRSTUVWXYZ' + 'abcdefghijklmnopqrstuvwxyz' + '0123456789',\\r\\n    /**\\r\\n     * Our default alphabet. Value 64 (=) is special; it means \\\"nothing.\\\"\\r\\n     * @type {string}\\r\\n     */\\r\\n    get ENCODED_VALS() {\\r\\n        return this.ENCODED_VALS_BASE + '+/=';\\r\\n    },\\r\\n    /**\\r\\n     * Our websafe alphabet.\\r\\n     * @type {string}\\r\\n     */\\r\\n    get ENCODED_VALS_WEBSAFE() {\\r\\n        return this.ENCODED_VALS_BASE + '-_.';\\r\\n    },\\r\\n    /**\\r\\n     * Whether this browser supports the atob and btoa functions. This extension\\r\\n     * started at Mozilla but is now implemented by many browsers. We use the\\r\\n     * ASSUME_* variables to avoid pulling in the full useragent detection library\\r\\n     * but still allowing the standard per-browser compilations.\\r\\n     *\\r\\n     * @type {boolean}\\r\\n     */\\r\\n    HAS_NATIVE_SUPPORT: typeof atob === 'function',\\r\\n    /**\\r\\n     * Base64-encode an array of bytes.\\r\\n     *\\r\\n     * @param {Array<number>|Uint8Array} input An array of bytes (numbers with\\r\\n     *     value in [0, 255]) to encode.\\r\\n     * @param {boolean=} opt_webSafe Boolean indicating we should use the\\r\\n     *     alternative alphabet.\\r\\n     * @return {string} The base64 encoded string.\\r\\n     */\\r\\n    encodeByteArray: function (input, opt_webSafe) {\\r\\n        if (!Array.isArray(input)) {\\r\\n            throw Error('encodeByteArray takes an array as a parameter');\\r\\n        }\\r\\n        this.init_();\\r\\n        var byteToCharMap = opt_webSafe\\r\\n            ? this.byteToCharMapWebSafe_\\r\\n            : this.byteToCharMap_;\\r\\n        var output = [];\\r\\n        for (var i = 0; i < input.length; i += 3) {\\r\\n            var byte1 = input[i];\\r\\n            var haveByte2 = i + 1 < input.length;\\r\\n            var byte2 = haveByte2 ? input[i + 1] : 0;\\r\\n            var haveByte3 = i + 2 < input.length;\\r\\n            var byte3 = haveByte3 ? input[i + 2] : 0;\\r\\n            var outByte1 = byte1 >> 2;\\r\\n            var outByte2 = ((byte1 & 0x03) << 4) | (byte2 >> 4);\\r\\n            var outByte3 = ((byte2 & 0x0f) << 2) | (byte3 >> 6);\\r\\n            var outByte4 = byte3 & 0x3f;\\r\\n            if (!haveByte3) {\\r\\n                outByte4 = 64;\\r\\n                if (!haveByte2) {\\r\\n                    outByte3 = 64;\\r\\n                }\\r\\n            }\\r\\n            output.push(byteToCharMap[outByte1], byteToCharMap[outByte2], byteToCharMap[outByte3], byteToCharMap[outByte4]);\\r\\n        }\\r\\n        return output.join('');\\r\\n    },\\r\\n    /**\\r\\n     * Base64-encode a string.\\r\\n     *\\r\\n     * @param {string} input A string to encode.\\r\\n     * @param {boolean=} opt_webSafe If true, we should use the\\r\\n     *     alternative alphabet.\\r\\n     * @return {string} The base64 encoded string.\\r\\n     */\\r\\n    encodeString: function (input, opt_webSafe) {\\r\\n        // Shortcut for Mozilla browsers that implement\\r\\n        // a native base64 encoder in the form of \\\"btoa/atob\\\"\\r\\n        if (this.HAS_NATIVE_SUPPORT && !opt_webSafe) {\\r\\n            return btoa(input);\\r\\n        }\\r\\n        return this.encodeByteArray(stringToByteArray(input), opt_webSafe);\\r\\n    },\\r\\n    /**\\r\\n     * Base64-decode a string.\\r\\n     *\\r\\n     * @param {string} input to decode.\\r\\n     * @param {boolean=} opt_webSafe True if we should use the\\r\\n     *     alternative alphabet.\\r\\n     * @return {string} string representing the decoded value.\\r\\n     */\\r\\n    decodeString: function (input, opt_webSafe) {\\r\\n        // Shortcut for Mozilla browsers that implement\\r\\n        // a native base64 encoder in the form of \\\"btoa/atob\\\"\\r\\n        if (this.HAS_NATIVE_SUPPORT && !opt_webSafe) {\\r\\n            return atob(input);\\r\\n        }\\r\\n        return byteArrayToString(this.decodeStringToByteArray(input, opt_webSafe));\\r\\n    },\\r\\n    /**\\r\\n     * Base64-decode a string.\\r\\n     *\\r\\n     * In base-64 decoding, groups of four characters are converted into three\\r\\n     * bytes.  If the encoder did not apply padding, the input length may not\\r\\n     * be a multiple of 4.\\r\\n     *\\r\\n     * In this case, the last group will have fewer than 4 characters, and\\r\\n     * padding will be inferred.  If the group has one or two characters, it decodes\\r\\n     * to one byte.  If the group has three characters, it decodes to two bytes.\\r\\n     *\\r\\n     * @param {string} input Input to decode.\\r\\n     * @param {boolean=} opt_webSafe True if we should use the web-safe alphabet.\\r\\n     * @return {!Array<number>} bytes representing the decoded value.\\r\\n     */\\r\\n    decodeStringToByteArray: function (input, opt_webSafe) {\\r\\n        this.init_();\\r\\n        var charToByteMap = opt_webSafe\\r\\n            ? this.charToByteMapWebSafe_\\r\\n            : this.charToByteMap_;\\r\\n        var output = [];\\r\\n        for (var i = 0; i < input.length;) {\\r\\n            var byte1 = charToByteMap[input.charAt(i++)];\\r\\n            var haveByte2 = i < input.length;\\r\\n            var byte2 = haveByte2 ? charToByteMap[input.charAt(i)] : 0;\\r\\n            ++i;\\r\\n            var haveByte3 = i < input.length;\\r\\n            var byte3 = haveByte3 ? charToByteMap[input.charAt(i)] : 64;\\r\\n            ++i;\\r\\n            var haveByte4 = i < input.length;\\r\\n            var byte4 = haveByte4 ? charToByteMap[input.charAt(i)] : 64;\\r\\n            ++i;\\r\\n            if (byte1 == null || byte2 == null || byte3 == null || byte4 == null) {\\r\\n                throw Error();\\r\\n            }\\r\\n            var outByte1 = (byte1 << 2) | (byte2 >> 4);\\r\\n            output.push(outByte1);\\r\\n            if (byte3 != 64) {\\r\\n                var outByte2 = ((byte2 << 4) & 0xf0) | (byte3 >> 2);\\r\\n                output.push(outByte2);\\r\\n                if (byte4 != 64) {\\r\\n                    var outByte3 = ((byte3 << 6) & 0xc0) | byte4;\\r\\n                    output.push(outByte3);\\r\\n                }\\r\\n            }\\r\\n        }\\r\\n        return output;\\r\\n    },\\r\\n    /**\\r\\n     * Lazy static initialization function. Called before\\r\\n     * accessing any of the static map variables.\\r\\n     * @private\\r\\n     */\\r\\n    init_: function () {\\r\\n        if (!this.byteToCharMap_) {\\r\\n            this.byteToCharMap_ = {};\\r\\n            this.charToByteMap_ = {};\\r\\n            this.byteToCharMapWebSafe_ = {};\\r\\n            this.charToByteMapWebSafe_ = {};\\r\\n            // We want quick mappings back and forth, so we precompute two maps.\\r\\n            for (var i = 0; i < this.ENCODED_VALS.length; i++) {\\r\\n                this.byteToCharMap_[i] = this.ENCODED_VALS.charAt(i);\\r\\n                this.charToByteMap_[this.byteToCharMap_[i]] = i;\\r\\n                this.byteToCharMapWebSafe_[i] = this.ENCODED_VALS_WEBSAFE.charAt(i);\\r\\n                this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]] = i;\\r\\n                // Be forgiving when decoding and correctly decode both encodings.\\r\\n                if (i >= this.ENCODED_VALS_BASE.length) {\\r\\n                    this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)] = i;\\r\\n                    this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)] = i;\\r\\n                }\\r\\n            }\\r\\n        }\\r\\n    }\\r\\n};\\r\\n/**\\r\\n * URL-safe base64 encoding\\r\\n * @param {!string} str\\r\\n * @return {!string}\\r\\n */\\r\\nvar base64Encode = function (str) {\\r\\n    var utf8Bytes = stringToByteArray(str);\\r\\n    return base64.encodeByteArray(utf8Bytes, true);\\r\\n};\\r\\n/**\\r\\n * URL-safe base64 decoding\\r\\n *\\r\\n * NOTE: DO NOT use the global atob() function - it does NOT support the\\r\\n * base64Url variant encoding.\\r\\n *\\r\\n * @param {string} str To be decoded\\r\\n * @return {?string} Decoded result, if possible\\r\\n */\\r\\nvar base64Decode = function (str) {\\r\\n    try {\\r\\n        return base64.decodeString(str, true);\\r\\n    }\\r\\n    catch (e) {\\r\\n        console.error('base64Decode failed: ', e);\\r\\n    }\\r\\n    return null;\\r\\n};\\n\\n/**\\r\\n * Copyright 2017 Google Inc.\\r\\n *\\r\\n * Licensed under the Apache License, Version 2.0 (the \\\"License\\\");\\r\\n * you may not use this file except in compliance with the License.\\r\\n * You may obtain a copy of the License at\\r\\n *\\r\\n *   http://www.apache.org/licenses/LICENSE-2.0\\r\\n *\\r\\n * Unless required by applicable law or agreed to in writing, software\\r\\n * distributed under the License is distributed on an \\\"AS IS\\\" BASIS,\\r\\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\\r\\n * See the License for the specific language governing permissions and\\r\\n * limitations under the License.\\r\\n */\\r\\n/**\\r\\n * Do a deep-copy of basic JavaScript Objects or Arrays.\\r\\n */\\r\\nfunction deepCopy(value) {\\r\\n    return deepExtend(undefined, value);\\r\\n}\\r\\n/**\\r\\n * Copy properties from source to target (recursively allows extension\\r\\n * of Objects and Arrays).  Scalar values in the target are over-written.\\r\\n * If target is undefined, an object of the appropriate type will be created\\r\\n * (and returned).\\r\\n *\\r\\n * We recursively copy all child properties of plain Objects in the source- so\\r\\n * that namespace- like dictionaries are merged.\\r\\n *\\r\\n * Note that the target can be a function, in which case the properties in\\r\\n * the source Object are copied onto it as static properties of the Function.\\r\\n */\\r\\nfunction deepExtend(target, source) {\\r\\n    if (!(source instanceof Object)) {\\r\\n        return source;\\r\\n    }\\r\\n    switch (source.constructor) {\\r\\n        case Date:\\r\\n            // Treat Dates like scalars; if the target date object had any child\\r\\n            // properties - they will be lost!\\r\\n            var dateValue = source;\\r\\n            return new Date(dateValue.getTime());\\r\\n        case Object:\\r\\n            if (target === undefined) {\\r\\n                target = {};\\r\\n            }\\r\\n            break;\\r\\n        case Array:\\r\\n            // Always copy the array source and overwrite the target.\\r\\n            target = [];\\r\\n            break;\\r\\n        default:\\r\\n            // Not a plain Object - treat it as a scalar.\\r\\n            return source;\\r\\n    }\\r\\n    for (var prop in source) {\\r\\n        if (!source.hasOwnProperty(prop)) {\\r\\n            continue;\\r\\n        }\\r\\n        target[prop] = deepExtend(target[prop], source[prop]);\\r\\n    }\\r\\n    return target;\\r\\n}\\r\\n// TODO: Really needed (for JSCompiler type checking)?\\r\\nfunction patchProperty(obj, prop, value) {\\r\\n    obj[prop] = value;\\r\\n}\\n\\n/**\\r\\n * Copyright 2017 Google Inc.\\r\\n *\\r\\n * Licensed under the Apache License, Version 2.0 (the \\\"License\\\");\\r\\n * you may not use this file except in compliance with the License.\\r\\n * You may obtain a copy of the License at\\r\\n *\\r\\n *   http://www.apache.org/licenses/LICENSE-2.0\\r\\n *\\r\\n * Unless required by applicable law or agreed to in writing, software\\r\\n * distributed under the License is distributed on an \\\"AS IS\\\" BASIS,\\r\\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\\r\\n * See the License for the specific language governing permissions and\\r\\n * limitations under the License.\\r\\n */\\r\\nvar Deferred = /** @class */ (function () {\\r\\n    function Deferred() {\\r\\n        var _this = this;\\r\\n        this.promise = new Promise(function (resolve, reject) {\\r\\n            _this.resolve = resolve;\\r\\n            _this.reject = reject;\\r\\n        });\\r\\n    }\\r\\n    /**\\r\\n     * Our API internals are not promiseified and cannot because our callback APIs have subtle expectations around\\r\\n     * invoking promises inline, which Promises are forbidden to do. This method accepts an optional node-style callback\\r\\n     * and returns a node-style callback which will resolve or reject the Deferred's promise.\\r\\n     * @param {((?function(?(Error)): (?|undefined))| (?function(?(Error),?=): (?|undefined)))=} callback\\r\\n     * @return {!function(?(Error), ?=)}\\r\\n     */\\r\\n    Deferred.prototype.wrapCallback = function (callback) {\\r\\n        var _this = this;\\r\\n        return function (error, value) {\\r\\n            if (error) {\\r\\n                _this.reject(error);\\r\\n            }\\r\\n            else {\\r\\n                _this.resolve(value);\\r\\n            }\\r\\n            if (typeof callback === 'function') {\\r\\n                // Attaching noop handler just in case developer wasn't expecting\\r\\n                // promises\\r\\n                _this.promise.catch(function () { });\\r\\n                // Some of our callbacks don't expect a value and our own tests\\r\\n                // assert that the parameter length is 1\\r\\n                if (callback.length === 1) {\\r\\n                    callback(error);\\r\\n                }\\r\\n                else {\\r\\n                    callback(error, value);\\r\\n                }\\r\\n            }\\r\\n        };\\r\\n    };\\r\\n    return Deferred;\\r\\n}());\\n\\n/**\\r\\n * Copyright 2017 Google Inc.\\r\\n *\\r\\n * Licensed under the Apache License, Version 2.0 (the \\\"License\\\");\\r\\n * you may not use this file except in compliance with the License.\\r\\n * You may obtain a copy of the License at\\r\\n *\\r\\n *   http://www.apache.org/licenses/LICENSE-2.0\\r\\n *\\r\\n * Unless required by applicable law or agreed to in writing, software\\r\\n * distributed under the License is distributed on an \\\"AS IS\\\" BASIS,\\r\\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\\r\\n * See the License for the specific language governing permissions and\\r\\n * limitations under the License.\\r\\n */\\r\\n/**\\r\\n * Returns navigator.userAgent string or '' if it's not defined.\\r\\n * @return {string} user agent string\\r\\n */\\r\\nvar getUA = function () {\\r\\n    if (typeof navigator !== 'undefined' &&\\r\\n        typeof navigator['userAgent'] === 'string') {\\r\\n        return navigator['userAgent'];\\r\\n    }\\r\\n    else {\\r\\n        return '';\\r\\n    }\\r\\n};\\r\\n/**\\r\\n * Detect Cordova / PhoneGap / Ionic frameworks on a mobile device.\\r\\n *\\r\\n * Deliberately does not rely on checking `file://` URLs (as this fails PhoneGap in the Ripple emulator) nor\\r\\n * Cordova `onDeviceReady`, which would normally wait for a callback.\\r\\n *\\r\\n * @return {boolean} isMobileCordova\\r\\n */\\r\\nvar isMobileCordova = function () {\\r\\n    return (typeof window !== 'undefined' &&\\r\\n        !!(window['cordova'] || window['phonegap'] || window['PhoneGap']) &&\\r\\n        /ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(getUA()));\\r\\n};\\r\\n/**\\r\\n * Detect React Native.\\r\\n *\\r\\n * @return {boolean} True if ReactNative environment is detected.\\r\\n */\\r\\nvar isReactNative = function () {\\r\\n    return (typeof navigator === 'object' && navigator['product'] === 'ReactNative');\\r\\n};\\r\\n/**\\r\\n * Detect Node.js.\\r\\n *\\r\\n * @return {boolean} True if Node.js environment is detected.\\r\\n */\\r\\nvar isNodeSdk = function () {\\r\\n    return CONSTANTS.NODE_CLIENT === true || CONSTANTS.NODE_ADMIN === true;\\r\\n};\\n\\nvar ERROR_NAME = 'FirebaseError';\\r\\nvar captureStackTrace = Error\\r\\n    .captureStackTrace;\\r\\n// Export for faking in tests\\r\\nfunction patchCapture(captureFake) {\\r\\n    var result = captureStackTrace;\\r\\n    captureStackTrace = captureFake;\\r\\n    return result;\\r\\n}\\r\\nvar FirebaseError = /** @class */ (function () {\\r\\n    function FirebaseError(code, message) {\\r\\n        this.code = code;\\r\\n        this.message = message;\\r\\n        // We want the stack value, if implemented by Error\\r\\n        if (captureStackTrace) {\\r\\n            // Patches this.stack, omitted calls above ErrorFactory#create\\r\\n            captureStackTrace(this, ErrorFactory.prototype.create);\\r\\n        }\\r\\n        else {\\r\\n            try {\\r\\n                // In case of IE11, stack will be set only after error is raised.\\r\\n                // https://docs.microsoft.com/en-us/scripting/javascript/reference/stack-property-error-javascript\\r\\n                throw Error.apply(this, arguments);\\r\\n            }\\r\\n            catch (err) {\\r\\n                this.name = ERROR_NAME;\\r\\n                // Make non-enumerable getter for the property.\\r\\n                Object.defineProperty(this, 'stack', {\\r\\n                    get: function () {\\r\\n                        return err.stack;\\r\\n                    }\\r\\n                });\\r\\n            }\\r\\n        }\\r\\n    }\\r\\n    return FirebaseError;\\r\\n}());\\r\\n// Back-door inheritance\\r\\nFirebaseError.prototype = Object.create(Error.prototype);\\r\\nFirebaseError.prototype.constructor = FirebaseError;\\r\\nFirebaseError.prototype.name = ERROR_NAME;\\r\\nvar ErrorFactory = /** @class */ (function () {\\r\\n    function ErrorFactory(service, serviceName, errors) {\\r\\n        this.service = service;\\r\\n        this.serviceName = serviceName;\\r\\n        this.errors = errors;\\r\\n        // Matches {$name}, by default.\\r\\n        this.pattern = /\\\\{\\\\$([^}]+)}/g;\\r\\n        // empty\\r\\n    }\\r\\n    ErrorFactory.prototype.create = function (code, data) {\\r\\n        if (data === undefined) {\\r\\n            data = {};\\r\\n        }\\r\\n        var template = this.errors[code];\\r\\n        var fullCode = this.service + '/' + code;\\r\\n        var message;\\r\\n        if (template === undefined) {\\r\\n            message = 'Error';\\r\\n        }\\r\\n        else {\\r\\n            message = template.replace(this.pattern, function (match, key) {\\r\\n                var value = data[key];\\r\\n                return value !== undefined ? value.toString() : '<' + key + '?>';\\r\\n            });\\r\\n        }\\r\\n        // Service: Error message (service/code).\\r\\n        message = this.serviceName + ': ' + message + ' (' + fullCode + ').';\\r\\n        var err = new FirebaseError(fullCode, message);\\r\\n        // Populate the Error object with message parts for programmatic\\r\\n        // accesses (e.g., e.file).\\r\\n        for (var prop in data) {\\r\\n            if (!data.hasOwnProperty(prop) || prop.slice(-1) === '_') {\\r\\n                continue;\\r\\n            }\\r\\n            err[prop] = data[prop];\\r\\n        }\\r\\n        return err;\\r\\n    };\\r\\n    return ErrorFactory;\\r\\n}());\\n\\n/**\\r\\n * Copyright 2017 Google Inc.\\r\\n *\\r\\n * Licensed under the Apache License, Version 2.0 (the \\\"License\\\");\\r\\n * you may not use this file except in compliance with the License.\\r\\n * You may obtain a copy of the License at\\r\\n *\\r\\n *   http://www.apache.org/licenses/LICENSE-2.0\\r\\n *\\r\\n * Unless required by applicable law or agreed to in writing, software\\r\\n * distributed under the License is distributed on an \\\"AS IS\\\" BASIS,\\r\\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\\r\\n * See the License for the specific language governing permissions and\\r\\n * limitations under the License.\\r\\n */\\r\\n/**\\r\\n * Evaluates a JSON string into a javascript object.\\r\\n *\\r\\n * @param {string} str A string containing JSON.\\r\\n * @return {*} The javascript object representing the specified JSON.\\r\\n */\\r\\nfunction jsonEval(str) {\\r\\n    return JSON.parse(str);\\r\\n}\\r\\n/**\\r\\n * Returns JSON representing a javascript object.\\r\\n * @param {*} data Javascript object to be stringified.\\r\\n * @return {string} The JSON contents of the object.\\r\\n */\\r\\nfunction stringify(data) {\\r\\n    return JSON.stringify(data);\\r\\n}\\n\\n/**\\r\\n * Copyright 2017 Google Inc.\\r\\n *\\r\\n * Licensed under the Apache License, Version 2.0 (the \\\"License\\\");\\r\\n * you may not use this file except in compliance with the License.\\r\\n * You may obtain a copy of the License at\\r\\n *\\r\\n *   http://www.apache.org/licenses/LICENSE-2.0\\r\\n *\\r\\n * Unless required by applicable law or agreed to in writing, software\\r\\n * distributed under the License is distributed on an \\\"AS IS\\\" BASIS,\\r\\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\\r\\n * See the License for the specific language governing permissions and\\r\\n * limitations under the License.\\r\\n */\\r\\n/**\\r\\n * Decodes a Firebase auth. token into constituent parts.\\r\\n *\\r\\n * Notes:\\r\\n * - May return with invalid / incomplete claims if there's no native base64 decoding support.\\r\\n * - Doesn't check if the token is actually valid.\\r\\n *\\r\\n * @param {?string} token\\r\\n * @return {{header: *, claims: *, data: *, signature: string}}\\r\\n */\\r\\nvar decode = function (token) {\\r\\n    var header = {}, claims = {}, data = {}, signature = '';\\r\\n    try {\\r\\n        var parts = token.split('.');\\r\\n        header = jsonEval(base64Decode(parts[0]) || '');\\r\\n        claims = jsonEval(base64Decode(parts[1]) || '');\\r\\n        signature = parts[2];\\r\\n        data = claims['d'] || {};\\r\\n        delete claims['d'];\\r\\n    }\\r\\n    catch (e) { }\\r\\n    return {\\r\\n        header: header,\\r\\n        claims: claims,\\r\\n        data: data,\\r\\n        signature: signature\\r\\n    };\\r\\n};\\r\\n/**\\r\\n * Decodes a Firebase auth. token and checks the validity of its time-based claims. Will return true if the\\r\\n * token is within the time window authorized by the 'nbf' (not-before) and 'iat' (issued-at) claims.\\r\\n *\\r\\n * Notes:\\r\\n * - May return a false negative if there's no native base64 decoding support.\\r\\n * - Doesn't check if the token is actually valid.\\r\\n *\\r\\n * @param {?string} token\\r\\n * @return {boolean}\\r\\n */\\r\\nvar isValidTimestamp = function (token) {\\r\\n    var claims = decode(token).claims, now = Math.floor(new Date().getTime() / 1000), validSince, validUntil;\\r\\n    if (typeof claims === 'object') {\\r\\n        if (claims.hasOwnProperty('nbf')) {\\r\\n            validSince = claims['nbf'];\\r\\n        }\\r\\n        else if (claims.hasOwnProperty('iat')) {\\r\\n            validSince = claims['iat'];\\r\\n        }\\r\\n        if (claims.hasOwnProperty('exp')) {\\r\\n            validUntil = claims['exp'];\\r\\n        }\\r\\n        else {\\r\\n            // token will expire after 24h by default\\r\\n            validUntil = validSince + 86400;\\r\\n        }\\r\\n    }\\r\\n    return (now && validSince && validUntil && now >= validSince && now <= validUntil);\\r\\n};\\r\\n/**\\r\\n * Decodes a Firebase auth. token and returns its issued at time if valid, null otherwise.\\r\\n *\\r\\n * Notes:\\r\\n * - May return null if there's no native base64 decoding support.\\r\\n * - Doesn't check if the token is actually valid.\\r\\n *\\r\\n * @param {?string} token\\r\\n * @return {?number}\\r\\n */\\r\\nvar issuedAtTime = function (token) {\\r\\n    var claims = decode(token).claims;\\r\\n    if (typeof claims === 'object' && claims.hasOwnProperty('iat')) {\\r\\n        return claims['iat'];\\r\\n    }\\r\\n    return null;\\r\\n};\\r\\n/**\\r\\n * Decodes a Firebase auth. token and checks the validity of its format. Expects a valid issued-at time and non-empty\\r\\n * signature.\\r\\n *\\r\\n * Notes:\\r\\n * - May return a false negative if there's no native base64 decoding support.\\r\\n * - Doesn't check if the token is actually valid.\\r\\n *\\r\\n * @param {?string} token\\r\\n * @return {boolean}\\r\\n */\\r\\nvar isValidFormat = function (token) {\\r\\n    var decoded = decode(token), claims = decoded.claims;\\r\\n    return (!!decoded.signature &&\\r\\n        !!claims &&\\r\\n        typeof claims === 'object' &&\\r\\n        claims.hasOwnProperty('iat'));\\r\\n};\\r\\n/**\\r\\n * Attempts to peer into an auth token and determine if it's an admin auth token by looking at the claims portion.\\r\\n *\\r\\n * Notes:\\r\\n * - May return a false negative if there's no native base64 decoding support.\\r\\n * - Doesn't check if the token is actually valid.\\r\\n *\\r\\n * @param {?string} token\\r\\n * @return {boolean}\\r\\n */\\r\\nvar isAdmin = function (token) {\\r\\n    var claims = decode(token).claims;\\r\\n    return typeof claims === 'object' && claims['admin'] === true;\\r\\n};\\n\\n/**\\r\\n * Copyright 2017 Google Inc.\\r\\n *\\r\\n * Licensed under the Apache License, Version 2.0 (the \\\"License\\\");\\r\\n * you may not use this file except in compliance with the License.\\r\\n * You may obtain a copy of the License at\\r\\n *\\r\\n *   http://www.apache.org/licenses/LICENSE-2.0\\r\\n *\\r\\n * Unless required by applicable law or agreed to in writing, software\\r\\n * distributed under the License is distributed on an \\\"AS IS\\\" BASIS,\\r\\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\\r\\n * See the License for the specific language governing permissions and\\r\\n * limitations under the License.\\r\\n */\\r\\n// See http://www.devthought.com/2012/01/18/an-object-is-not-a-hash/\\r\\nvar contains = function (obj, key) {\\r\\n    return Object.prototype.hasOwnProperty.call(obj, key);\\r\\n};\\r\\nvar safeGet = function (obj, key) {\\r\\n    if (Object.prototype.hasOwnProperty.call(obj, key))\\r\\n        return obj[key];\\r\\n    // else return undefined.\\r\\n};\\r\\n/**\\r\\n * Enumerates the keys/values in an object, excluding keys defined on the prototype.\\r\\n *\\r\\n * @param {?Object.<K,V>} obj Object to enumerate.\\r\\n * @param {!function(K, V)} fn Function to call for each key and value.\\r\\n * @template K,V\\r\\n */\\r\\nvar forEach = function (obj, fn) {\\r\\n    for (var key in obj) {\\r\\n        if (Object.prototype.hasOwnProperty.call(obj, key)) {\\r\\n            fn(key, obj[key]);\\r\\n        }\\r\\n    }\\r\\n};\\r\\n/**\\r\\n * Copies all the (own) properties from one object to another.\\r\\n * @param {!Object} objTo\\r\\n * @param {!Object} objFrom\\r\\n * @return {!Object} objTo\\r\\n */\\r\\nvar extend = function (objTo, objFrom) {\\r\\n    forEach(objFrom, function (key, value) {\\r\\n        objTo[key] = value;\\r\\n    });\\r\\n    return objTo;\\r\\n};\\r\\n/**\\r\\n * Returns a clone of the specified object.\\r\\n * @param {!Object} obj\\r\\n * @return {!Object} cloned obj.\\r\\n */\\r\\nvar clone = function (obj) {\\r\\n    return extend({}, obj);\\r\\n};\\r\\n/**\\r\\n * Returns true if obj has typeof \\\"object\\\" and is not null.  Unlike goog.isObject(), does not return true\\r\\n * for functions.\\r\\n *\\r\\n * @param obj {*} A potential object.\\r\\n * @returns {boolean} True if it's an object.\\r\\n */\\r\\nvar isNonNullObject = function (obj) {\\r\\n    return typeof obj === 'object' && obj !== null;\\r\\n};\\r\\nvar isEmpty = function (obj) {\\r\\n    for (var key in obj) {\\r\\n        return false;\\r\\n    }\\r\\n    return true;\\r\\n};\\r\\nvar getCount = function (obj) {\\r\\n    var rv = 0;\\r\\n    for (var key in obj) {\\r\\n        rv++;\\r\\n    }\\r\\n    return rv;\\r\\n};\\r\\nvar map = function (obj, f, opt_obj) {\\r\\n    var res = {};\\r\\n    for (var key in obj) {\\r\\n        res[key] = f.call(opt_obj, obj[key], key, obj);\\r\\n    }\\r\\n    return res;\\r\\n};\\r\\nvar findKey = function (obj, fn, opt_this) {\\r\\n    for (var key in obj) {\\r\\n        if (fn.call(opt_this, obj[key], key, obj)) {\\r\\n            return key;\\r\\n        }\\r\\n    }\\r\\n    return undefined;\\r\\n};\\r\\nvar findValue = function (obj, fn, opt_this) {\\r\\n    var key = findKey(obj, fn, opt_this);\\r\\n    return key && obj[key];\\r\\n};\\r\\nvar getAnyKey = function (obj) {\\r\\n    for (var key in obj) {\\r\\n        return key;\\r\\n    }\\r\\n};\\r\\nvar getValues = function (obj) {\\r\\n    var res = [];\\r\\n    var i = 0;\\r\\n    for (var key in obj) {\\r\\n        res[i++] = obj[key];\\r\\n    }\\r\\n    return res;\\r\\n};\\r\\n/**\\r\\n * Tests whether every key/value pair in an object pass the test implemented\\r\\n * by the provided function\\r\\n *\\r\\n * @param {?Object.<K,V>} obj Object to test.\\r\\n * @param {!function(K, V)} fn Function to call for each key and value.\\r\\n * @template K,V\\r\\n */\\r\\nvar every = function (obj, fn) {\\r\\n    for (var key in obj) {\\r\\n        if (Object.prototype.hasOwnProperty.call(obj, key)) {\\r\\n            if (!fn(key, obj[key])) {\\r\\n                return false;\\r\\n            }\\r\\n        }\\r\\n    }\\r\\n    return true;\\r\\n};\\n\\n/**\\r\\n * Copyright 2017 Google Inc.\\r\\n *\\r\\n * Licensed under the Apache License, Version 2.0 (the \\\"License\\\");\\r\\n * you may not use this file except in compliance with the License.\\r\\n * You may obtain a copy of the License at\\r\\n *\\r\\n *   http://www.apache.org/licenses/LICENSE-2.0\\r\\n *\\r\\n * Unless required by applicable law or agreed to in writing, software\\r\\n * distributed under the License is distributed on an \\\"AS IS\\\" BASIS,\\r\\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\\r\\n * See the License for the specific language governing permissions and\\r\\n * limitations under the License.\\r\\n */\\r\\n/**\\r\\n * Returns a querystring-formatted string (e.g. &arg=val&arg2=val2) from a params\\r\\n * object (e.g. {arg: 'val', arg2: 'val2'})\\r\\n * Note: You must prepend it with ? when adding it to a URL.\\r\\n *\\r\\n * @param {!Object} querystringParams\\r\\n * @return {string}\\r\\n */\\r\\nvar querystring = function (querystringParams) {\\r\\n    var params = [];\\r\\n    forEach(querystringParams, function (key, value) {\\r\\n        if (Array.isArray(value)) {\\r\\n            value.forEach(function (arrayVal) {\\r\\n                params.push(encodeURIComponent(key) + '=' + encodeURIComponent(arrayVal));\\r\\n            });\\r\\n        }\\r\\n        else {\\r\\n            params.push(encodeURIComponent(key) + '=' + encodeURIComponent(value));\\r\\n        }\\r\\n    });\\r\\n    return params.length ? '&' + params.join('&') : '';\\r\\n};\\r\\n/**\\r\\n * Decodes a querystring (e.g. ?arg=val&arg2=val2) into a params object (e.g. {arg: 'val', arg2: 'val2'})\\r\\n *\\r\\n * @param {string} querystring\\r\\n * @return {!Object}\\r\\n */\\r\\nvar querystringDecode = function (querystring) {\\r\\n    var obj = {};\\r\\n    var tokens = querystring.replace(/^\\\\?/, '').split('&');\\r\\n    tokens.forEach(function (token) {\\r\\n        if (token) {\\r\\n            var key = token.split('=');\\r\\n            obj[key[0]] = key[1];\\r\\n        }\\r\\n    });\\r\\n    return obj;\\r\\n};\\n\\n/**\\r\\n * Copyright 2017 Google Inc.\\r\\n *\\r\\n * Licensed under the Apache License, Version 2.0 (the \\\"License\\\");\\r\\n * you may not use this file except in compliance with the License.\\r\\n * You may obtain a copy of the License at\\r\\n *\\r\\n *   http://www.apache.org/licenses/LICENSE-2.0\\r\\n *\\r\\n * Unless required by applicable law or agreed to in writing, software\\r\\n * distributed under the License is distributed on an \\\"AS IS\\\" BASIS,\\r\\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\\r\\n * See the License for the specific language governing permissions and\\r\\n * limitations under the License.\\r\\n */\\r\\n// Copyright 2011 The Closure Library Authors. All Rights Reserved.\\r\\n//\\r\\n// Licensed under the Apache License, Version 2.0 (the \\\"License\\\");\\r\\n// you may not use this file except in compliance with the License.\\r\\n// You may obtain a copy of the License at\\r\\n//\\r\\n//      http://www.apache.org/licenses/LICENSE-2.0\\r\\n//\\r\\n// Unless required by applicable law or agreed to in writing, software\\r\\n// distributed under the License is distributed on an \\\"AS-IS\\\" BASIS,\\r\\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\\r\\n// See the License for the specific language governing permissions and\\r\\n// limitations under the License.\\r\\n/**\\r\\n * @fileoverview Abstract cryptographic hash interface.\\r\\n *\\r\\n * See Sha1 and Md5 for sample implementations.\\r\\n *\\r\\n */\\r\\n/**\\r\\n * Create a cryptographic hash instance.\\r\\n *\\r\\n * @constructor\\r\\n * @struct\\r\\n */\\r\\nvar Hash = /** @class */ (function () {\\r\\n    function Hash() {\\r\\n        /**\\r\\n         * The block size for the hasher.\\r\\n         * @type {number}\\r\\n         */\\r\\n        this.blockSize = -1;\\r\\n    }\\r\\n    return Hash;\\r\\n}());\\n\\n/**\\r\\n * Copyright 2017 Google Inc.\\r\\n *\\r\\n * Licensed under the Apache License, Version 2.0 (the \\\"License\\\");\\r\\n * you may not use this file except in compliance with the License.\\r\\n * You may obtain a copy of the License at\\r\\n *\\r\\n *   http://www.apache.org/licenses/LICENSE-2.0\\r\\n *\\r\\n * Unless required by applicable law or agreed to in writing, software\\r\\n * distributed under the License is distributed on an \\\"AS IS\\\" BASIS,\\r\\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\\r\\n * See the License for the specific language governing permissions and\\r\\n * limitations under the License.\\r\\n */\\r\\n/**\\r\\n * @fileoverview SHA-1 cryptographic hash.\\r\\n * Variable names follow the notation in FIPS PUB 180-3:\\r\\n * http://csrc.nist.gov/publications/fips/fips180-3/fips180-3_final.pdf.\\r\\n *\\r\\n * Usage:\\r\\n *   var sha1 = new sha1();\\r\\n *   sha1.update(bytes);\\r\\n *   var hash = sha1.digest();\\r\\n *\\r\\n * Performance:\\r\\n *   Chrome 23:   ~400 Mbit/s\\r\\n *   Firefox 16:  ~250 Mbit/s\\r\\n *\\r\\n */\\r\\n/**\\r\\n * SHA-1 cryptographic hash constructor.\\r\\n *\\r\\n * The properties declared here are discussed in the above algorithm document.\\r\\n * @constructor\\r\\n * @extends {Hash}\\r\\n * @final\\r\\n * @struct\\r\\n */\\r\\nvar Sha1 = /** @class */ (function (_super) {\\r\\n    tslib_1.__extends(Sha1, _super);\\r\\n    function Sha1() {\\r\\n        var _this = _super.call(this) || this;\\r\\n        /**\\r\\n         * Holds the previous values of accumulated variables a-e in the compress_\\r\\n         * function.\\r\\n         * @type {!Array<number>}\\r\\n         * @private\\r\\n         */\\r\\n        _this.chain_ = [];\\r\\n        /**\\r\\n         * A buffer holding the partially computed hash result.\\r\\n         * @type {!Array<number>}\\r\\n         * @private\\r\\n         */\\r\\n        _this.buf_ = [];\\r\\n        /**\\r\\n         * An array of 80 bytes, each a part of the message to be hashed.  Referred to\\r\\n         * as the message schedule in the docs.\\r\\n         * @type {!Array<number>}\\r\\n         * @private\\r\\n         */\\r\\n        _this.W_ = [];\\r\\n        /**\\r\\n         * Contains data needed to pad messages less than 64 bytes.\\r\\n         * @type {!Array<number>}\\r\\n         * @private\\r\\n         */\\r\\n        _this.pad_ = [];\\r\\n        /**\\r\\n         * @private {number}\\r\\n         */\\r\\n        _this.inbuf_ = 0;\\r\\n        /**\\r\\n         * @private {number}\\r\\n         */\\r\\n        _this.total_ = 0;\\r\\n        _this.blockSize = 512 / 8;\\r\\n        _this.pad_[0] = 128;\\r\\n        for (var i = 1; i < _this.blockSize; ++i) {\\r\\n            _this.pad_[i] = 0;\\r\\n        }\\r\\n        _this.reset();\\r\\n        return _this;\\r\\n    }\\r\\n    Sha1.prototype.reset = function () {\\r\\n        this.chain_[0] = 0x67452301;\\r\\n        this.chain_[1] = 0xefcdab89;\\r\\n        this.chain_[2] = 0x98badcfe;\\r\\n        this.chain_[3] = 0x10325476;\\r\\n        this.chain_[4] = 0xc3d2e1f0;\\r\\n        this.inbuf_ = 0;\\r\\n        this.total_ = 0;\\r\\n    };\\r\\n    /**\\r\\n     * Internal compress helper function.\\r\\n     * @param {!Array<number>|!Uint8Array|string} buf Block to compress.\\r\\n     * @param {number=} opt_offset Offset of the block in the buffer.\\r\\n     * @private\\r\\n     */\\r\\n    Sha1.prototype.compress_ = function (buf, opt_offset) {\\r\\n        if (!opt_offset) {\\r\\n            opt_offset = 0;\\r\\n        }\\r\\n        var W = this.W_;\\r\\n        // get 16 big endian words\\r\\n        if (typeof buf === 'string') {\\r\\n            for (var i = 0; i < 16; i++) {\\r\\n                // TODO(user): [bug 8140122] Recent versions of Safari for Mac OS and iOS\\r\\n                // have a bug that turns the post-increment ++ operator into pre-increment\\r\\n                // during JIT compilation.  We have code that depends heavily on SHA-1 for\\r\\n                // correctness and which is affected by this bug, so I've removed all uses\\r\\n                // of post-increment ++ in which the result value is used.  We can revert\\r\\n                // this change once the Safari bug\\r\\n                // (https://bugs.webkit.org/show_bug.cgi?id=109036) has been fixed and\\r\\n                // most clients have been updated.\\r\\n                W[i] =\\r\\n                    (buf.charCodeAt(opt_offset) << 24) |\\r\\n                        (buf.charCodeAt(opt_offset + 1) << 16) |\\r\\n                        (buf.charCodeAt(opt_offset + 2) << 8) |\\r\\n                        buf.charCodeAt(opt_offset + 3);\\r\\n                opt_offset += 4;\\r\\n            }\\r\\n        }\\r\\n        else {\\r\\n            for (var i = 0; i < 16; i++) {\\r\\n                W[i] =\\r\\n                    (buf[opt_offset] << 24) |\\r\\n                        (buf[opt_offset + 1] << 16) |\\r\\n                        (buf[opt_offset + 2] << 8) |\\r\\n                        buf[opt_offset + 3];\\r\\n                opt_offset += 4;\\r\\n            }\\r\\n        }\\r\\n        // expand to 80 words\\r\\n        for (var i = 16; i < 80; i++) {\\r\\n            var t = W[i - 3] ^ W[i - 8] ^ W[i - 14] ^ W[i - 16];\\r\\n            W[i] = ((t << 1) | (t >>> 31)) & 0xffffffff;\\r\\n        }\\r\\n        var a = this.chain_[0];\\r\\n        var b = this.chain_[1];\\r\\n        var c = this.chain_[2];\\r\\n        var d = this.chain_[3];\\r\\n        var e = this.chain_[4];\\r\\n        var f, k;\\r\\n        // TODO(user): Try to unroll this loop to speed up the computation.\\r\\n        for (var i = 0; i < 80; i++) {\\r\\n            if (i < 40) {\\r\\n                if (i < 20) {\\r\\n                    f = d ^ (b & (c ^ d));\\r\\n                    k = 0x5a827999;\\r\\n                }\\r\\n                else {\\r\\n                    f = b ^ c ^ d;\\r\\n                    k = 0x6ed9eba1;\\r\\n                }\\r\\n            }\\r\\n            else {\\r\\n                if (i < 60) {\\r\\n                    f = (b & c) | (d & (b | c));\\r\\n                    k = 0x8f1bbcdc;\\r\\n                }\\r\\n                else {\\r\\n                    f = b ^ c ^ d;\\r\\n                    k = 0xca62c1d6;\\r\\n                }\\r\\n            }\\r\\n            var t = (((a << 5) | (a >>> 27)) + f + e + k + W[i]) & 0xffffffff;\\r\\n            e = d;\\r\\n            d = c;\\r\\n            c = ((b << 30) | (b >>> 2)) & 0xffffffff;\\r\\n            b = a;\\r\\n            a = t;\\r\\n        }\\r\\n        this.chain_[0] = (this.chain_[0] + a) & 0xffffffff;\\r\\n        this.chain_[1] = (this.chain_[1] + b) & 0xffffffff;\\r\\n        this.chain_[2] = (this.chain_[2] + c) & 0xffffffff;\\r\\n        this.chain_[3] = (this.chain_[3] + d) & 0xffffffff;\\r\\n        this.chain_[4] = (this.chain_[4] + e) & 0xffffffff;\\r\\n    };\\r\\n    Sha1.prototype.update = function (bytes, opt_length) {\\r\\n        // TODO(johnlenz): tighten the function signature and remove this check\\r\\n        if (bytes == null) {\\r\\n            return;\\r\\n        }\\r\\n        if (opt_length === undefined) {\\r\\n            opt_length = bytes.length;\\r\\n        }\\r\\n        var lengthMinusBlock = opt_length - this.blockSize;\\r\\n        var n = 0;\\r\\n        // Using local instead of member variables gives ~5% speedup on Firefox 16.\\r\\n        var buf = this.buf_;\\r\\n        var inbuf = this.inbuf_;\\r\\n        // The outer while loop should execute at most twice.\\r\\n        while (n < opt_length) {\\r\\n            // When we have no data in the block to top up, we can directly process the\\r\\n            // input buffer (assuming it contains sufficient data). This gives ~25%\\r\\n            // speedup on Chrome 23 and ~15% speedup on Firefox 16, but requires that\\r\\n            // the data is provided in large chunks (or in multiples of 64 bytes).\\r\\n            if (inbuf == 0) {\\r\\n                while (n <= lengthMinusBlock) {\\r\\n                    this.compress_(bytes, n);\\r\\n                    n += this.blockSize;\\r\\n                }\\r\\n            }\\r\\n            if (typeof bytes === 'string') {\\r\\n                while (n < opt_length) {\\r\\n                    buf[inbuf] = bytes.charCodeAt(n);\\r\\n                    ++inbuf;\\r\\n                    ++n;\\r\\n                    if (inbuf == this.blockSize) {\\r\\n                        this.compress_(buf);\\r\\n                        inbuf = 0;\\r\\n                        // Jump to the outer loop so we use the full-block optimization.\\r\\n                        break;\\r\\n                    }\\r\\n                }\\r\\n            }\\r\\n            else {\\r\\n                while (n < opt_length) {\\r\\n                    buf[inbuf] = bytes[n];\\r\\n                    ++inbuf;\\r\\n                    ++n;\\r\\n                    if (inbuf == this.blockSize) {\\r\\n                        this.compress_(buf);\\r\\n                        inbuf = 0;\\r\\n                        // Jump to the outer loop so we use the full-block optimization.\\r\\n                        break;\\r\\n                    }\\r\\n                }\\r\\n            }\\r\\n        }\\r\\n        this.inbuf_ = inbuf;\\r\\n        this.total_ += opt_length;\\r\\n    };\\r\\n    /** @override */\\r\\n    Sha1.prototype.digest = function () {\\r\\n        var digest = [];\\r\\n        var totalBits = this.total_ * 8;\\r\\n        // Add pad 0x80 0x00*.\\r\\n        if (this.inbuf_ < 56) {\\r\\n            this.update(this.pad_, 56 - this.inbuf_);\\r\\n        }\\r\\n        else {\\r\\n            this.update(this.pad_, this.blockSize - (this.inbuf_ - 56));\\r\\n        }\\r\\n        // Add # bits.\\r\\n        for (var i = this.blockSize - 1; i >= 56; i--) {\\r\\n            this.buf_[i] = totalBits & 255;\\r\\n            totalBits /= 256; // Don't use bit-shifting here!\\r\\n        }\\r\\n        this.compress_(this.buf_);\\r\\n        var n = 0;\\r\\n        for (var i = 0; i < 5; i++) {\\r\\n            for (var j = 24; j >= 0; j -= 8) {\\r\\n                digest[n] = (this.chain_[i] >> j) & 255;\\r\\n                ++n;\\r\\n            }\\r\\n        }\\r\\n        return digest;\\r\\n    };\\r\\n    return Sha1;\\r\\n}(Hash));\\n\\n/**\\r\\n * Helper to make a Subscribe function (just like Promise helps make a\\r\\n * Thenable).\\r\\n *\\r\\n * @param executor Function which can make calls to a single Observer\\r\\n *     as a proxy.\\r\\n * @param onNoObservers Callback when count of Observers goes to zero.\\r\\n */\\r\\nfunction createSubscribe(executor, onNoObservers) {\\r\\n    var proxy = new ObserverProxy(executor, onNoObservers);\\r\\n    return proxy.subscribe.bind(proxy);\\r\\n}\\r\\n/**\\r\\n * Implement fan-out for any number of Observers attached via a subscribe\\r\\n * function.\\r\\n */\\r\\nvar ObserverProxy = /** @class */ (function () {\\r\\n    /**\\r\\n     * @param executor Function which can make calls to a single Observer\\r\\n     *     as a proxy.\\r\\n     * @param onNoObservers Callback when count of Observers goes to zero.\\r\\n     */\\r\\n    function ObserverProxy(executor, onNoObservers) {\\r\\n        var _this = this;\\r\\n        this.observers = [];\\r\\n        this.unsubscribes = [];\\r\\n        this.observerCount = 0;\\r\\n        // Micro-task scheduling by calling task.then().\\r\\n        this.task = Promise.resolve();\\r\\n        this.finalized = false;\\r\\n        this.onNoObservers = onNoObservers;\\r\\n        // Call the executor asynchronously so subscribers that are called\\r\\n        // synchronously after the creation of the subscribe function\\r\\n        // can still receive the very first value generated in the executor.\\r\\n        this.task\\r\\n            .then(function () {\\r\\n            executor(_this);\\r\\n        })\\r\\n            .catch(function (e) {\\r\\n            _this.error(e);\\r\\n        });\\r\\n    }\\r\\n    ObserverProxy.prototype.next = function (value) {\\r\\n        this.forEachObserver(function (observer) {\\r\\n            observer.next(value);\\r\\n        });\\r\\n    };\\r\\n    ObserverProxy.prototype.error = function (error) {\\r\\n        this.forEachObserver(function (observer) {\\r\\n            observer.error(error);\\r\\n        });\\r\\n        this.close(error);\\r\\n    };\\r\\n    ObserverProxy.prototype.complete = function () {\\r\\n        this.forEachObserver(function (observer) {\\r\\n            observer.complete();\\r\\n        });\\r\\n        this.close();\\r\\n    };\\r\\n    /**\\r\\n     * Subscribe function that can be used to add an Observer to the fan-out list.\\r\\n     *\\r\\n     * - We require that no event is sent to a subscriber sychronously to their\\r\\n     *   call to subscribe().\\r\\n     */\\r\\n    ObserverProxy.prototype.subscribe = function (nextOrObserver, error, complete) {\\r\\n        var _this = this;\\r\\n        var observer;\\r\\n        if (nextOrObserver === undefined &&\\r\\n            error === undefined &&\\r\\n            complete === undefined) {\\r\\n            throw new Error('Missing Observer.');\\r\\n        }\\r\\n        // Assemble an Observer object when passed as callback functions.\\r\\n        if (implementsAnyMethods(nextOrObserver, ['next', 'error', 'complete'])) {\\r\\n            observer = nextOrObserver;\\r\\n        }\\r\\n        else {\\r\\n            observer = {\\r\\n                next: nextOrObserver,\\r\\n                error: error,\\r\\n                complete: complete\\r\\n            };\\r\\n        }\\r\\n        if (observer.next === undefined) {\\r\\n            observer.next = noop;\\r\\n        }\\r\\n        if (observer.error === undefined) {\\r\\n            observer.error = noop;\\r\\n        }\\r\\n        if (observer.complete === undefined) {\\r\\n            observer.complete = noop;\\r\\n        }\\r\\n        var unsub = this.unsubscribeOne.bind(this, this.observers.length);\\r\\n        // Attempt to subscribe to a terminated Observable - we\\r\\n        // just respond to the Observer with the final error or complete\\r\\n        // event.\\r\\n        if (this.finalized) {\\r\\n            this.task.then(function () {\\r\\n                try {\\r\\n                    if (_this.finalError) {\\r\\n                        observer.error(_this.finalError);\\r\\n                    }\\r\\n                    else {\\r\\n                        observer.complete();\\r\\n                    }\\r\\n                }\\r\\n                catch (e) {\\r\\n                    // nothing\\r\\n                }\\r\\n                return;\\r\\n            });\\r\\n        }\\r\\n        this.observers.push(observer);\\r\\n        return unsub;\\r\\n    };\\r\\n    // Unsubscribe is synchronous - we guarantee that no events are sent to\\r\\n    // any unsubscribed Observer.\\r\\n    ObserverProxy.prototype.unsubscribeOne = function (i) {\\r\\n        if (this.observers === undefined || this.observers[i] === undefined) {\\r\\n            return;\\r\\n        }\\r\\n        delete this.observers[i];\\r\\n        this.observerCount -= 1;\\r\\n        if (this.observerCount === 0 && this.onNoObservers !== undefined) {\\r\\n            this.onNoObservers(this);\\r\\n        }\\r\\n    };\\r\\n    ObserverProxy.prototype.forEachObserver = function (fn) {\\r\\n        if (this.finalized) {\\r\\n            // Already closed by previous event....just eat the additional values.\\r\\n            return;\\r\\n        }\\r\\n        // Since sendOne calls asynchronously - there is no chance that\\r\\n        // this.observers will become undefined.\\r\\n        for (var i = 0; i < this.observers.length; i++) {\\r\\n            this.sendOne(i, fn);\\r\\n        }\\r\\n    };\\r\\n    // Call the Observer via one of it's callback function. We are careful to\\r\\n    // confirm that the observe has not been unsubscribed since this asynchronous\\r\\n    // function had been queued.\\r\\n    ObserverProxy.prototype.sendOne = function (i, fn) {\\r\\n        var _this = this;\\r\\n        // Execute the callback asynchronously\\r\\n        this.task.then(function () {\\r\\n            if (_this.observers !== undefined && _this.observers[i] !== undefined) {\\r\\n                try {\\r\\n                    fn(_this.observers[i]);\\r\\n                }\\r\\n                catch (e) {\\r\\n                    // Ignore exceptions raised in Observers or missing methods of an\\r\\n                    // Observer.\\r\\n                    // Log error to console. b/31404806\\r\\n                    if (typeof console !== 'undefined' && console.error) {\\r\\n                        console.error(e);\\r\\n                    }\\r\\n                }\\r\\n            }\\r\\n        });\\r\\n    };\\r\\n    ObserverProxy.prototype.close = function (err) {\\r\\n        var _this = this;\\r\\n        if (this.finalized) {\\r\\n            return;\\r\\n        }\\r\\n        this.finalized = true;\\r\\n        if (err !== undefined) {\\r\\n            this.finalError = err;\\r\\n        }\\r\\n        // Proxy is no longer needed - garbage collect references\\r\\n        this.task.then(function () {\\r\\n            _this.observers = undefined;\\r\\n            _this.onNoObservers = undefined;\\r\\n        });\\r\\n    };\\r\\n    return ObserverProxy;\\r\\n}());\\r\\n/** Turn synchronous function into one called asynchronously. */\\r\\nfunction async(fn, onError) {\\r\\n    return function () {\\r\\n        var args = [];\\r\\n        for (var _i = 0; _i < arguments.length; _i++) {\\r\\n            args[_i] = arguments[_i];\\r\\n        }\\r\\n        Promise.resolve(true)\\r\\n            .then(function () {\\r\\n            fn.apply(void 0, args);\\r\\n        })\\r\\n            .catch(function (error) {\\r\\n            if (onError) {\\r\\n                onError(error);\\r\\n            }\\r\\n        });\\r\\n    };\\r\\n}\\r\\n/**\\r\\n * Return true if the object passed in implements any of the named methods.\\r\\n */\\r\\nfunction implementsAnyMethods(obj, methods) {\\r\\n    if (typeof obj !== 'object' || obj === null) {\\r\\n        return false;\\r\\n    }\\r\\n    for (var _i = 0, methods_1 = methods; _i < methods_1.length; _i++) {\\r\\n        var method = methods_1[_i];\\r\\n        if (method in obj && typeof obj[method] === 'function') {\\r\\n            return true;\\r\\n        }\\r\\n    }\\r\\n    return false;\\r\\n}\\r\\nfunction noop() {\\r\\n    // do nothing\\r\\n}\\n\\n/**\\r\\n * Copyright 2017 Google Inc.\\r\\n *\\r\\n * Licensed under the Apache License, Version 2.0 (the \\\"License\\\");\\r\\n * you may not use this file except in compliance with the License.\\r\\n * You may obtain a copy of the License at\\r\\n *\\r\\n *   http://www.apache.org/licenses/LICENSE-2.0\\r\\n *\\r\\n * Unless required by applicable law or agreed to in writing, software\\r\\n * distributed under the License is distributed on an \\\"AS IS\\\" BASIS,\\r\\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\\r\\n * See the License for the specific language governing permissions and\\r\\n * limitations under the License.\\r\\n */\\r\\n/**\\r\\n * Check to make sure the appropriate number of arguments are provided for a public function.\\r\\n * Throws an error if it fails.\\r\\n *\\r\\n * @param {!string} fnName The function name\\r\\n * @param {!number} minCount The minimum number of arguments to allow for the function call\\r\\n * @param {!number} maxCount The maximum number of argument to allow for the function call\\r\\n * @param {!number} argCount The actual number of arguments provided.\\r\\n */\\r\\nvar validateArgCount = function (fnName, minCount, maxCount, argCount) {\\r\\n    var argError;\\r\\n    if (argCount < minCount) {\\r\\n        argError = 'at least ' + minCount;\\r\\n    }\\r\\n    else if (argCount > maxCount) {\\r\\n        argError = maxCount === 0 ? 'none' : 'no more than ' + maxCount;\\r\\n    }\\r\\n    if (argError) {\\r\\n        var error = fnName +\\r\\n            ' failed: Was called with ' +\\r\\n            argCount +\\r\\n            (argCount === 1 ? ' argument.' : ' arguments.') +\\r\\n            ' Expects ' +\\r\\n            argError +\\r\\n            '.';\\r\\n        throw new Error(error);\\r\\n    }\\r\\n};\\r\\n/**\\r\\n * Generates a string to prefix an error message about failed argument validation\\r\\n *\\r\\n * @param {!string} fnName The function name\\r\\n * @param {!number} argumentNumber The index of the argument\\r\\n * @param {boolean} optional Whether or not the argument is optional\\r\\n * @return {!string} The prefix to add to the error thrown for validation.\\r\\n */\\r\\nfunction errorPrefix(fnName, argumentNumber, optional) {\\r\\n    var argName = '';\\r\\n    switch (argumentNumber) {\\r\\n        case 1:\\r\\n            argName = optional ? 'first' : 'First';\\r\\n            break;\\r\\n        case 2:\\r\\n            argName = optional ? 'second' : 'Second';\\r\\n            break;\\r\\n        case 3:\\r\\n            argName = optional ? 'third' : 'Third';\\r\\n            break;\\r\\n        case 4:\\r\\n            argName = optional ? 'fourth' : 'Fourth';\\r\\n            break;\\r\\n        default:\\r\\n            throw new Error('errorPrefix called with argumentNumber > 4.  Need to update it?');\\r\\n    }\\r\\n    var error = fnName + ' failed: ';\\r\\n    error += argName + ' argument ';\\r\\n    return error;\\r\\n}\\r\\n/**\\r\\n * @param {!string} fnName\\r\\n * @param {!number} argumentNumber\\r\\n * @param {!string} namespace\\r\\n * @param {boolean} optional\\r\\n */\\r\\nfunction validateNamespace(fnName, argumentNumber, namespace, optional) {\\r\\n    if (optional && !namespace)\\r\\n        return;\\r\\n    if (typeof namespace !== 'string') {\\r\\n        //TODO: I should do more validation here. We only allow certain chars in namespaces.\\r\\n        throw new Error(errorPrefix(fnName, argumentNumber, optional) +\\r\\n            'must be a valid firebase namespace.');\\r\\n    }\\r\\n}\\r\\nfunction validateCallback(fnName, argumentNumber, callback, optional) {\\r\\n    if (optional && !callback)\\r\\n        return;\\r\\n    if (typeof callback !== 'function')\\r\\n        throw new Error(errorPrefix(fnName, argumentNumber, optional) +\\r\\n            'must be a valid function.');\\r\\n}\\r\\nfunction validateContextObject(fnName, argumentNumber, context, optional) {\\r\\n    if (optional && !context)\\r\\n        return;\\r\\n    if (typeof context !== 'object' || context === null)\\r\\n        throw new Error(errorPrefix(fnName, argumentNumber, optional) +\\r\\n            'must be a valid context object.');\\r\\n}\\n\\n/**\\r\\n * Copyright 2017 Google Inc.\\r\\n *\\r\\n * Licensed under the Apache License, Version 2.0 (the \\\"License\\\");\\r\\n * you may not use this file except in compliance with the License.\\r\\n * You may obtain a copy of the License at\\r\\n *\\r\\n *   http://www.apache.org/licenses/LICENSE-2.0\\r\\n *\\r\\n * Unless required by applicable law or agreed to in writing, software\\r\\n * distributed under the License is distributed on an \\\"AS IS\\\" BASIS,\\r\\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\\r\\n * See the License for the specific language governing permissions and\\r\\n * limitations under the License.\\r\\n */\\r\\n// Code originally came from goog.crypt.stringToUtf8ByteArray, but for some reason they\\r\\n// automatically replaced '\\\\r\\\\n' with '\\\\n', and they didn't handle surrogate pairs,\\r\\n// so it's been modified.\\r\\n// Note that not all Unicode characters appear as single characters in JavaScript strings.\\r\\n// fromCharCode returns the UTF-16 encoding of a character - so some Unicode characters\\r\\n// use 2 characters in Javascript.  All 4-byte UTF-8 characters begin with a first\\r\\n// character in the range 0xD800 - 0xDBFF (the first character of a so-called surrogate\\r\\n// pair).\\r\\n// See http://www.ecma-international.org/ecma-262/5.1/#sec-15.1.3\\r\\n/**\\r\\n * @param {string} str\\r\\n * @return {Array}\\r\\n */\\r\\nvar stringToByteArray$1 = function (str) {\\r\\n    var out = [], p = 0;\\r\\n    for (var i = 0; i < str.length; i++) {\\r\\n        var c = str.charCodeAt(i);\\r\\n        // Is this the lead surrogate in a surrogate pair?\\r\\n        if (c >= 0xd800 && c <= 0xdbff) {\\r\\n            var high = c - 0xd800; // the high 10 bits.\\r\\n            i++;\\r\\n            assert(i < str.length, 'Surrogate pair missing trail surrogate.');\\r\\n            var low = str.charCodeAt(i) - 0xdc00; // the low 10 bits.\\r\\n            c = 0x10000 + (high << 10) + low;\\r\\n        }\\r\\n        if (c < 128) {\\r\\n            out[p++] = c;\\r\\n        }\\r\\n        else if (c < 2048) {\\r\\n            out[p++] = (c >> 6) | 192;\\r\\n            out[p++] = (c & 63) | 128;\\r\\n        }\\r\\n        else if (c < 65536) {\\r\\n            out[p++] = (c >> 12) | 224;\\r\\n            out[p++] = ((c >> 6) & 63) | 128;\\r\\n            out[p++] = (c & 63) | 128;\\r\\n        }\\r\\n        else {\\r\\n            out[p++] = (c >> 18) | 240;\\r\\n            out[p++] = ((c >> 12) & 63) | 128;\\r\\n            out[p++] = ((c >> 6) & 63) | 128;\\r\\n            out[p++] = (c & 63) | 128;\\r\\n        }\\r\\n    }\\r\\n    return out;\\r\\n};\\r\\n/**\\r\\n * Calculate length without actually converting; useful for doing cheaper validation.\\r\\n * @param {string} str\\r\\n * @return {number}\\r\\n */\\r\\nvar stringLength = function (str) {\\r\\n    var p = 0;\\r\\n    for (var i = 0; i < str.length; i++) {\\r\\n        var c = str.charCodeAt(i);\\r\\n        if (c < 128) {\\r\\n            p++;\\r\\n        }\\r\\n        else if (c < 2048) {\\r\\n            p += 2;\\r\\n        }\\r\\n        else if (c >= 0xd800 && c <= 0xdbff) {\\r\\n            // Lead surrogate of a surrogate pair.  The pair together will take 4 bytes to represent.\\r\\n            p += 4;\\r\\n            i++; // skip trail surrogate.\\r\\n        }\\r\\n        else {\\r\\n            p += 3;\\r\\n        }\\r\\n    }\\r\\n    return p;\\r\\n};\\n\\n/**\\r\\n * Copyright 2017 Google Inc.\\r\\n *\\r\\n * Licensed under the Apache License, Version 2.0 (the \\\"License\\\");\\r\\n * you may not use this file except in compliance with the License.\\r\\n * You may obtain a copy of the License at\\r\\n *\\r\\n *   http://www.apache.org/licenses/LICENSE-2.0\\r\\n *\\r\\n * Unless required by applicable law or agreed to in writing, software\\r\\n * distributed under the License is distributed on an \\\"AS IS\\\" BASIS,\\r\\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\\r\\n * See the License for the specific language governing permissions and\\r\\n * limitations under the License.\\r\\n */\\n\\nexports.assert = assert;\\nexports.assertionError = assertionError;\\nexports.base64 = base64;\\nexports.base64Decode = base64Decode;\\nexports.base64Encode = base64Encode;\\nexports.CONSTANTS = CONSTANTS;\\nexports.deepCopy = deepCopy;\\nexports.deepExtend = deepExtend;\\nexports.patchProperty = patchProperty;\\nexports.Deferred = Deferred;\\nexports.getUA = getUA;\\nexports.isMobileCordova = isMobileCordova;\\nexports.isNodeSdk = isNodeSdk;\\nexports.isReactNative = isReactNative;\\nexports.ErrorFactory = ErrorFactory;\\nexports.FirebaseError = FirebaseError;\\nexports.patchCapture = patchCapture;\\nexports.jsonEval = jsonEval;\\nexports.stringify = stringify;\\nexports.decode = decode;\\nexports.isAdmin = isAdmin;\\nexports.issuedAtTime = issuedAtTime;\\nexports.isValidFormat = isValidFormat;\\nexports.isValidTimestamp = isValidTimestamp;\\nexports.clone = clone;\\nexports.contains = contains;\\nexports.every = every;\\nexports.extend = extend;\\nexports.findKey = findKey;\\nexports.findValue = findValue;\\nexports.forEach = forEach;\\nexports.getAnyKey = getAnyKey;\\nexports.getCount = getCount;\\nexports.getValues = getValues;\\nexports.isEmpty = isEmpty;\\nexports.isNonNullObject = isNonNullObject;\\nexports.map = map;\\nexports.safeGet = safeGet;\\nexports.querystring = querystring;\\nexports.querystringDecode = querystringDecode;\\nexports.Sha1 = Sha1;\\nexports.async = async;\\nexports.createSubscribe = createSubscribe;\\nexports.errorPrefix = errorPrefix;\\nexports.validateArgCount = validateArgCount;\\nexports.validateCallback = validateCallback;\\nexports.validateContextObject = validateContextObject;\\nexports.validateNamespace = validateNamespace;\\nexports.stringLength = stringLength;\\nexports.stringToByteArray = stringToByteArray$1;\\n\\n};\"],\n\"names\":[\"shadow$provide\",\"global\",\"process\",\"require\",\"module\",\"exports\",\"shadow$shims\",\"deepExtend\",\"target\",\"source\",\"Object\",\"constructor\",\"Date\",\"getTime\",\"undefined\",\"Array\",\"prop\",\"hasOwnProperty\",\"jsonEval\",\"str\",\"JSON\",\"parse\",\"implementsAnyMethods\",\"obj\",\"methods\",\"_i\",\"length\",\"method\",\"noop\",\"errorPrefix\",\"fnName\",\"argumentNumber\",\"optional\",\"argName\",\"Error\",\"defineProperty\",\"value\",\"tslib_1\",\"CONSTANTS\",\"NODE_CLIENT\",\"NODE_ADMIN\",\"SDK_VERSION\",\"assert\",\"assertion\",\"message\",\"assertionError\",\"stringToByteArray\",\"out\",\"p\",\"i\",\"c\",\"charCodeAt\",\"base64\",\"byteToCharMap_\",\"charToByteMap_\",\"byteToCharMapWebSafe_\",\"charToByteMapWebSafe_\",\"ENCODED_VALS_BASE\",\"ENCODED_VALS\",\"ENCODED_VALS_WEBSAFE\",\"HAS_NATIVE_SUPPORT\",\"atob\",\"encodeByteArray\",\"input\",\"opt_webSafe\",\"isArray\",\"init_\",\"byteToCharMap\",\"output\",\"byte1\",\"haveByte2\",\"byte2\",\"haveByte3\",\"byte3\",\"outByte1\",\"outByte2\",\"outByte3\",\"outByte4\",\"push\",\"join\",\"encodeString\",\"btoa\",\"decodeString\",\"decodeStringToByteArray\",\"pos\",\"bytes\",\"c1\",\"String\",\"fromCharCode\",\"c2\",\"c3\",\"c4\",\"u\",\"charToByteMap\",\"charAt\",\"byte4\",\"base64Decode\",\"e\",\"console\",\"error\",\"Deferred\",\"_this\",\"promise\",\"Promise\",\"resolve\",\"reject\",\"prototype\",\"wrapCallback\",\"Deferred.prototype.wrapCallback\",\"callback\",\"catch\",\"getUA\",\"navigator\",\"captureStackTrace\",\"FirebaseError\",\"code\",\"ErrorFactory\",\"create\",\"apply\",\"arguments\",\"err\",\"name\",\"ERROR_NAME\",\"get\",\"stack\",\"service\",\"serviceName\",\"errors\",\"pattern\",\"ErrorFactory.prototype.create\",\"data\",\"template\",\"fullCode\",\"replace\",\"match\",\"key\",\"toString\",\"slice\",\"decode\",\"token\",\"header\",\"claims\",\"signature\",\"parts\",\"split\",\"forEach\",\"fn\",\"call\",\"extend\",\"objTo\",\"objFrom\",\"findKey\",\"opt_this\",\"Sha1\",\"_super\",\"chain_\",\"buf_\",\"W_\",\"pad_\",\"inbuf_\",\"total_\",\"blockSize\",\"reset\",\"__extends\",\"Sha1.prototype.reset\",\"compress_\",\"Sha1.prototype.compress_\",\"buf\",\"opt_offset\",\"W\",\"t\",\"a\",\"b\",\"d\",\"f\",\"k\",\"update\",\"Sha1.prototype.update\",\"opt_length\",\"lengthMinusBlock\",\"n\",\"inbuf\",\"digest\",\"Sha1.prototype.digest\",\"totalBits\",\"j\",\"Hash\",\"ObserverProxy\",\"executor\",\"onNoObservers\",\"observers\",\"unsubscribes\",\"observerCount\",\"task\",\"finalized\",\"then\",\"next\",\"ObserverProxy.prototype.next\",\"forEachObserver\",\"observer\",\"ObserverProxy.prototype.error\",\"close\",\"complete\",\"ObserverProxy.prototype.complete\",\"subscribe\",\"ObserverProxy.prototype.subscribe\",\"nextOrObserver\",\"unsub\",\"unsubscribeOne\",\"bind\",\"finalError\",\"ObserverProxy.prototype.unsubscribeOne\",\"ObserverProxy.prototype.forEachObserver\",\"sendOne\",\"ObserverProxy.prototype.sendOne\",\"ObserverProxy.prototype.close\",\"base64Encode\",\"utf8Bytes\",\"deepCopy\",\"patchProperty\",\"isMobileCordova\",\"window\",\"test\",\"isNodeSdk\",\"isReactNative\",\"patchCapture\",\"captureFake\",\"result\",\"stringify\",\"isAdmin\",\"issuedAtTime\",\"isValidFormat\",\"decoded\",\"isValidTimestamp\",\"now\",\"Math\",\"floor\",\"validSince\",\"validUntil\",\"clone\",\"contains\",\"every\",\"findValue\",\"getAnyKey\",\"getCount\",\"rv\",\"getValues\",\"res\",\"isEmpty\",\"isNonNullObject\",\"map\",\"opt_obj\",\"safeGet\",\"querystring\",\"querystringParams\",\"params\",\"arrayVal\",\"encodeURIComponent\",\"querystringDecode\",\"tokens\",\"async\",\"onError\",\"args\",\"createSubscribe\",\"proxy\",\"validateArgCount\",\"minCount\",\"maxCount\",\"argCount\",\"argError\",\"validateCallback\",\"validateContextObject\",\"context\",\"validateNamespace\",\"namespace\",\"stringLength\",\"stringToByteArray$1\",\"high\",\"low\"]\n}\n"]